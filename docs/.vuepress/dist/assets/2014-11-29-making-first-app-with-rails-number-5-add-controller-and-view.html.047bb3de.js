import{r as a,o as e,c as p,a as s,b as t,F as o,e as c,d as l}from"./app.1c49a48c.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const i={},k=c(`<p>\u751F\u6210\u3057\u305F\u30EA\u30BD\u30FC\u30B9\u306B\u5BFE\u5FDC\u3059\u308Bcontroller\u3092\u4F5C\u6210\u3057\u3001\u3053\u306E\u30EA\u30BD\u30FC\u30B9\u306B\u5BFE\u3059\u308Bview\u3068\u305D\u306E\u305F\u3081\u306E\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u8FFD\u52A0\u3057\u3066\u3044\u304F\u3002</p><h2 id="rails-generate-controller" tabindex="-1"><a class="header-anchor" href="#rails-generate-controller" aria-hidden="true">#</a> rails generate controller</h2><p>controller\u3092\u4F5C\u6210\u3059\u308B\u3002controller\u306E\u540D\u524D\u306F1\u6587\u5B57\u76EE\u304C\u5927\u6587\u5B57\u3067\u3001\u8907\u6570\u5F62\u3092\u6307\u5B9A\u3059\u308B\u306E\u304Crails\u306E\u898F\u7D04\u3067\u3042\u308B\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ rails g controller Stocks
<span class="token comment"># rails generate\u30B3\u30DE\u30F3\u30C9\u306F rails g \u3068\u7701\u7565\u3067\u304D\u308B</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u3053\u306E\u30B3\u30DE\u30F3\u30C9\u3067controller\u306E\u30D5\u30A1\u30A4\u30EB\u3068view\u306E\u30D5\u30A1\u30A4\u30EB\u304C\u751F\u6210\u3055\u308C\u308B\u3002</p><h2 id="routes\u306E\u8A2D\u5B9A" tabindex="-1"><a class="header-anchor" href="#routes\u306E\u8A2D\u5B9A" aria-hidden="true">#</a> routes\u306E\u8A2D\u5B9A</h2><p>rails\u3067\u306F <code>config/routes</code> \u30D5\u30A1\u30A4\u30EB\u306B\u3066dispatch\u7BA1\u7406\u3092\u3057\u3066\u3044\u308B\u3002\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u8A2D\u5B9A\u3067RESTful\u306AURL\u3092\u81EA\u52D5\u751F\u6210\u3057\u3066\u304F\u308C\u308B\u3002</p><p>\u4ECA\u56DE\u8FFD\u52A0\u3057\u305Fcontroller\u306E\u8A2D\u5B9A\u3082\u8FFD\u52A0\u3059\u308B\u3002 <code>config/routes</code> \u306B\u4EE5\u4E0B\u306E\u884C\u3092\u8FFD\u52A0\u3059\u308B</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>resources <span class="token symbol">:stocks</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u3053\u306E\u8A2D\u5B9A\u306B\u3088\u308A\u3001\u30EA\u30BD\u30FC\u30B9\u306E\u57FA\u672C\u7684\u306A\u64CD\u4F5C\u3092\u884C\u3046URL\u304C\u751F\u6210\u3055\u308C\u308B\u3002</p><p>\u3053\u306E\u4ED6\u306B\u3082routes\u306E\u8A2D\u5B9A\u65B9\u6CD5\u306F\u3044\u304F\u3064\u304B\u3042\u308A\u3001\u305D\u308C\u306B\u3088\u308A\u81EA\u7531\u306B\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\u306E\u8FFD\u52A0\u304C\u3067\u304D\u308B\u304C\u3053\u3053\u3067\u306F\u7701\u7565\u3002</p><h2 id="\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308Broutes\u306E\u78BA\u8A8D" tabindex="-1"><a class="header-anchor" href="#\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308Broutes\u306E\u78BA\u8A8D" aria-hidden="true">#</a> \u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308Broutes\u306E\u78BA\u8A8D</h2><p>routes\u306E\u8A2D\u5B9A\u304C\u5B8C\u4E86\u3057\u305F\u3089\u3001\u751F\u6210\u3055\u308C\u305FURL\u306E\u78BA\u8A8D\u3092\u3059\u308B\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ rake routes
        Prefix Verb   URI Pattern                    Controller<span class="token comment">#Action</span>
        stocks GET    /stocks<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>              stocks<span class="token comment">#index</span>
               POST   /stocks<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>              stocks<span class="token comment">#create</span>
     new_stock GET    /stocks/new<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>          stocks<span class="token comment">#new</span>
    edit_stock GET    /stocks/:id/edit<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>     stocks<span class="token comment">#edit</span>
         stock GET    /stocks/:id<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>          stocks<span class="token comment">#show</span>
               PATCH  /stocks/:id<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>          stocks<span class="token comment">#update</span>
               PUT    /stocks/:id<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>          stocks<span class="token comment">#update</span>
               DELETE /stocks/:id<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>          stocks<span class="token comment">#destroy</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="\u30A2\u30AF\u30B7\u30E7\u30F3\u306E\u8FFD\u52A0" tabindex="-1"><a class="header-anchor" href="#\u30A2\u30AF\u30B7\u30E7\u30F3\u306E\u8FFD\u52A0" aria-hidden="true">#</a> \u30A2\u30AF\u30B7\u30E7\u30F3\u306E\u8FFD\u52A0</h2><p><code>$ rake routes</code> \u3067\u793A\u3055\u308C\u305FController#Action\u306B\u6CBF\u3063\u3066\u3001controller\u306B\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u8FFD\u52A0\u3057\u3066\u3044\u304F\u3002</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>app<span class="token operator">/</span>controllers<span class="token operator">/</span>stocks_controller<span class="token punctuation">.</span>rb
<span class="token keyword">class</span> <span class="token class-name">StocksController</span> <span class="token operator">&lt;</span> ApplicationController
  before_action <span class="token symbol">:set_stock</span><span class="token punctuation">,</span> <span class="token symbol">only</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token symbol">:show</span><span class="token punctuation">,</span> <span class="token symbol">:edit</span><span class="token punctuation">,</span> <span class="token symbol">:update</span><span class="token punctuation">,</span> <span class="token symbol">:destroy</span><span class="token punctuation">]</span>

  <span class="token comment"># GET /stocks</span>
  <span class="token comment"># GET /stocks.json</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">index</span></span>
    <span class="token variable">@stocks</span> <span class="token operator">=</span> Stock<span class="token punctuation">.</span>all
  <span class="token keyword">end</span>

  <span class="token comment"># GET /stocks/1</span>
  <span class="token comment"># GET /stocks/1.json</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">show</span></span>
  <span class="token keyword">end</span>

  <span class="token comment"># GET /stocks/new</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">new</span></span>
    <span class="token variable">@stock</span> <span class="token operator">=</span> <span class="token class-name">Stock</span><span class="token punctuation">.</span><span class="token keyword">new</span>
  <span class="token keyword">end</span>

  <span class="token comment"># GET /stocks/1/edit</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">edit</span></span>
  <span class="token keyword">end</span>

  <span class="token comment"># POST /stocks</span>
  <span class="token comment"># POST /stocks.json</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">create</span></span>
    <span class="token variable">@stock</span> <span class="token operator">=</span> <span class="token class-name">Stock</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>stock_params<span class="token punctuation">)</span>

    respond_to <span class="token keyword">do</span> <span class="token operator">|</span>format<span class="token operator">|</span>
      <span class="token keyword">if</span> <span class="token variable">@stock</span><span class="token punctuation">.</span>save
        format<span class="token punctuation">.</span>html <span class="token punctuation">{</span> redirect_to <span class="token variable">@stock</span><span class="token punctuation">,</span> <span class="token symbol">notice</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;Stock was successfully created.&#39;</span></span> <span class="token punctuation">}</span>
        format<span class="token punctuation">.</span>json <span class="token punctuation">{</span> render action<span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;show&#39;</span></span><span class="token punctuation">,</span> <span class="token symbol">status</span><span class="token operator">:</span> <span class="token symbol">:created</span><span class="token punctuation">,</span> <span class="token symbol">location</span><span class="token operator">:</span> <span class="token variable">@stock</span> <span class="token punctuation">}</span>
      <span class="token keyword">else</span>
        format<span class="token punctuation">.</span>html <span class="token punctuation">{</span> render action<span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;new&#39;</span></span> <span class="token punctuation">}</span>
        format<span class="token punctuation">.</span>json <span class="token punctuation">{</span> render json<span class="token operator">:</span> <span class="token variable">@stock</span><span class="token punctuation">.</span>errors<span class="token punctuation">,</span> <span class="token symbol">status</span><span class="token operator">:</span> <span class="token symbol">:unprocessable_entity</span> <span class="token punctuation">}</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token comment"># PATCH/PUT /stocks/1</span>
  <span class="token comment"># PATCH/PUT /stocks/1.json</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">update</span></span>
    respond_to <span class="token keyword">do</span> <span class="token operator">|</span>format<span class="token operator">|</span>
      <span class="token keyword">if</span> <span class="token variable">@stock</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span>stock_params<span class="token punctuation">)</span>
        format<span class="token punctuation">.</span>html <span class="token punctuation">{</span> redirect_to <span class="token variable">@stock</span><span class="token punctuation">,</span> <span class="token symbol">notice</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;Stock was successfully updated.&#39;</span></span> <span class="token punctuation">}</span>
        format<span class="token punctuation">.</span>json <span class="token punctuation">{</span> head <span class="token symbol">:no_content</span> <span class="token punctuation">}</span>
      <span class="token keyword">else</span>
        format<span class="token punctuation">.</span>html <span class="token punctuation">{</span> render action<span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;edit&#39;</span></span> <span class="token punctuation">}</span>
        format<span class="token punctuation">.</span>json <span class="token punctuation">{</span> render json<span class="token operator">:</span> <span class="token variable">@stock</span><span class="token punctuation">.</span>errors<span class="token punctuation">,</span> <span class="token symbol">status</span><span class="token operator">:</span> <span class="token symbol">:unprocessable_entity</span> <span class="token punctuation">}</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token comment"># DELETE /stocks/1</span>
  <span class="token comment"># DELETE /stocks/1.json</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">destroy</span></span>
    <span class="token variable">@stock</span><span class="token punctuation">.</span>destroy
    respond_to <span class="token keyword">do</span> <span class="token operator">|</span>format<span class="token operator">|</span>
      format<span class="token punctuation">.</span>html <span class="token punctuation">{</span> redirect_to stocks_url <span class="token punctuation">}</span>
      format<span class="token punctuation">.</span>json <span class="token punctuation">{</span> head <span class="token symbol">:no_content</span> <span class="token punctuation">}</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token keyword">private</span>
    <span class="token comment"># Use callbacks to share common setup or constraints between actions.</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">set_stock</span></span>
      <span class="token variable">@stock</span> <span class="token operator">=</span> Stock<span class="token punctuation">.</span>find<span class="token punctuation">(</span>params<span class="token punctuation">[</span><span class="token symbol">:id</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token comment"># Never trust parameters from the scary internet, only allow the white list through.</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">stock_params</span></span>
      params<span class="token punctuation">.</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token symbol">:stock</span><span class="token punctuation">)</span><span class="token punctuation">.</span>permit<span class="token punctuation">(</span><span class="token symbol">:title</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h2 id="\u53C2\u7167" tabindex="-1"><a class="header-anchor" href="#\u53C2\u7167" aria-hidden="true">#</a> \u53C2\u7167</h2>`,18),u={href:"http://dotinstall.com/lessons/basic_rails_v2",target:"_blank",rel:"noopener noreferrer"},b=l("\u30C9\u30C3\u30C8\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB");function m(d,f){const n=a("ExternalLinkIcon");return e(),p(o,null,[k,s("p",null,[s("a",u,[b,t(n)])])],64)}var w=r(i,[["render",m]]);export{w as default};
