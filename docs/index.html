
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sojiro&#8217;s Blog</title>
  <meta name="author" content="Sojiro">

  
  <meta name="description" content="æ‰‹å…ƒã® Mac ã« Node.js ã¨ npm ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸæ‰‹é † homebrew ã‚’ä½¿ã£ã¦ nodebrew ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
$ brew install &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sojiro14.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Sojiro's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-50182043-1', 'auto');
    ga('send', 'pageview');

  </script>



</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Sojiro&#8217;s Blog</a></h1>
  
    <h2>This is nothing much.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
<ul class="subscribe">
  <li><a href="https://github.com/sojiro14" rel="subscribe-github" title="@sojiro14 on GitHub" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 50,0 C 22.385714,0 0,22.385714 0,50 0,77.614286 22.385714,100 50,100 77.614286,100 100,77.614286 100,50 100,22.385714 77.614286,0 50,0 z m 29.692858,79.692858 c -3.859184,3.859182 -8.351022,6.887754 -13.35,9.00306 -1.27041,0.536736 -2.560204,1.009184 -3.867348,1.415306 v -7.493878 c 0,-3.938774 -1.35102,-6.835714 -4.053062,-8.690816 1.692858,-0.163264 3.24694,-0.390816 4.663266,-0.683672 1.416326,-0.292858 2.913266,-0.716328 4.491838,-1.27041 1.57857,-0.55408 2.994896,-1.213264 4.247958,-1.97755 1.253062,-0.765306 2.458164,-1.758164 3.613266,-2.978572 1.155102,-1.220408 2.12449,-2.604082 2.905102,-4.15 0.780612,-1.545918 1.4,-3.40204 1.855102,-5.566326 0.455102,-2.164286 0.683674,-4.54898 0.683674,-7.153062 0,-5.045918 -1.643878,-9.341836 -4.931634,-12.890816 C 77.44796,33.35 77.285714,29.10204 75.463266,24.512244 l -1.22143,-0.145918 c -0.845918,-0.09796 -2.368366,0.260204 -4.565306,1.07449 -2.196938,0.814286 -4.663264,2.14796 -7.396938,4.004082 -3.87449,-1.07449 -7.893878,-1.611224 -12.061224,-1.611224 -4.19898,0 -8.203062,0.536734 -12.012246,1.611224 -1.72449,-1.17245 -3.361224,-2.139796 -4.907142,-2.905102 C 31.753062,25.77449 30.516326,25.254082 29.587756,24.97653 28.660204,24.7 27.79796,24.528572 27,24.463266 c -0.79796,-0.0653 -1.310204,-0.08062 -1.537756,-0.04898 -0.22755,0.03164 -0.390816,0.0653 -0.487754,0.09796 -1.82347,4.62245 -1.985714,8.87143 -0.487756,12.743878 -3.287754,3.54796 -4.931632,7.844898 -4.931632,12.890816 0,2.604082 0.227552,4.988776 0.683674,7.153062 0.456122,2.164286 1.07449,4.020408 1.855102,5.566326 0.780612,1.545918 1.75,2.929592 2.905102,4.15 1.155102,1.220408 2.360204,2.213266 3.613264,2.978572 1.253062,0.766326 2.669388,1.42449 4.24796,1.97755 1.578572,0.554082 3.07551,0.976532 4.491836,1.27041 1.416328,0.292856 2.970408,0.521428 4.663266,0.683672 -2.669388,1.82347 -4.004082,4.720408 -4.004082,8.690816 v 7.639796 C 36.536734,89.818368 35.083674,89.3 33.656122,88.695918 c -4.99898,-2.115306 -9.490816,-5.143878 -13.35,-9.00306 -3.859184,-3.859184 -6.887754,-8.351022 -9.00306,-13.35 C 9.1163263,61.171428 8.0071428,55.67347 8.0071428,50 c 0,-5.67347 1.1091835,-11.171428 3.2969392,-16.342858 2.115306,-4.998978 5.143878,-9.490816 9.00306,-13.35 3.859184,-3.859182 8.351022,-6.887754 13.35,-9.00306 C 38.828572,9.1163266 44.32653,8.0071428 50,8.0071428 c 5.67347,0 11.171428,1.1091838 16.342858,3.2969392 5,2.115306 9.490816,5.143878 13.35,9.00306 3.859182,3.859184 6.887754,8.351022 9.00306,13.35 2.186736,5.17245 3.295918,10.67041 3.295918,16.342858 0,5.672448 -1.109182,11.171428 -3.296938,16.342858 -2.115306,4.998978 -5.143878,9.490816 -9.00204,13.35 l 0,0 z"></path></svg></a></li>
</ul>
  
  
  
<ul class="subscribe">
  <li><a href="https://twitter.com/sojiro14" rel="subscribe-twitter" title="@sojiro14 on Twitter" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 512 512"><path class="social" d="M0.001,334.932c33.327,30.816,118.891,59.981,188.517-8.271c-12.52,1.955-22.972-0.416-30.913-8.269
  c-7.531-7.465-7.945-15.182-3.914-22.202c3.275-5.725,10.184-9.741,16.977-13.934c-12.323,2.285-22.829,1.095-32.218-3.706
  c-12.604-6.444-24.863-13.228-28.3-27.207c7.71-8.112,16.28-15.359,34.831-12.627c-17.45-5.83-33.087-13.429-44.41-24.815
  c-11.028-11.091-12.163-18.302-13.932-26.996c9.632-3.567,19.688-5.421,30.478-4.353c-24.397-12.476-34.757-29.63-40.487-48.325
  c-1.731-5.652-2.044-11.03-1.31-16.545c98.826,37.305,145.11,64.109,170.662,89.251c11.496-30.589,38.3-99.868,78.371-123.646
  c0.191,3.77-1.309,7.837-4.357,12.189c11.863-6.609,21.125-17.188,37.445-16.98c-1.879,7.723-7.279,13.904-17.85,17.854
  c10.662-4.084,21.463-7.545,32.65-9.578c10.375-1.881,10.229,6.304,4.355,10.444c-11.916,8.412-24.578,9.456-37.006,13.498
  c38.105,0.949,69.266,18.994,93.604,58.343c8.088,13.074,13.52,26.149,14.807,40.487c16.254,4.563,32.426,5.494,48.76,2.61
  c4.475-0.796,8.645-1.63,12.627-3.482c-6.354,9.529-13.686,17.356-23.947,20.899c-9.811,3.387-19.637,6.688-30.473,6.968
  c17.641,6.675,37.082,7.045,57.033,5.659c-24.402,23.486-43.08,22.922-61.824,22.642c-8.221,34.703-25.025,69.315-60.52,101.005
  c-46.559,41.569-96.678,61.397-148.457,65.742c-48.552,4.07-95.488,3.512-146.726-20.464
  C56.486,393.349,24.648,368.884,0.001,334.932L0.001,334.932z"/></svg></a></li>
</ul>
  
  
  
  
  
  
    
      <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="sojiro14.github.io" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories">Categories</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/10/01/install-node-js-and-npm/">Node.jsã¨npmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-10-01T20:43:45+09:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2017</span></span> <span class='time'>8:43 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>æ‰‹å…ƒã® Mac ã« Node.js ã¨ npm ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸæ‰‹é †</p>

<h2><code>homebrew</code> ã‚’ä½¿ã£ã¦ <code>nodebrew</code> ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>brew install <span class="nv">nodebrew</span>
</span><span class='line'><span class="o">==</span>&gt; Downloading https://github.com/hokaccha/nodebrew/archive/v0.9.2.tar.gz
</span><span class='line'><span class="o">==</span>&gt; Downloading from https://codeload.github.com/hokaccha/nodebrew/tar.gz/v0.9.2
</span><span class='line'><span class="c">######################################################################## 100.0%</span>
</span><span class='line'><span class="o">==</span>&gt; /usr/local/Cellar/nodebrew/0.9.2/bin/nodebrew <span class="nv">setup_dirs</span>
</span><span class='line'><span class="o">==</span>&gt; Caveats
</span><span class='line'>Add path:
</span><span class='line'>  <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/.nodebrew/current/bin:<span class="nv">$PATH</span>
</span><span class='line'>
</span><span class='line'>To use Homebrew<span class="err">&#39;</span>s directories rather than ~/.nodebrew add to your profile:
</span><span class='line'>  <span class="nb">export </span><span class="nv">NODEBREW_ROOT</span><span class="o">=</span>/usr/local/var/nodebrew
</span><span class='line'>
</span><span class='line'>Bash completion has been installed to:
</span><span class='line'>  /usr/local/etc/bash_completion.d
</span><span class='line'>
</span><span class='line'>zsh completion has been installed to:
</span><span class='line'>  /usr/local/share/zsh/site-functions
</span><span class='line'><span class="o">==</span>&gt; Summary
</span><span class='line'>ğŸº  /usr/local/Cellar/nodebrew/0.9.2: <span class="m">7</span> files, 34.4K, built in <span class="m">2</span> seconds
</span></code></pre></td></tr></table></div></figure>


<p><code>nodebrew</code> ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew -v
</span><span class='line'>nodebrew 0.9.2
</span><span class='line'>
</span><span class='line'>Usage:
</span><span class='line'>    nodebrew <span class="nb">help                         </span>Show this message
</span><span class='line'>    nodebrew install &lt;version&gt;            Download and install a &lt;version&gt; <span class="o">(</span>compile from <span class="nb">source</span><span class="o">)</span>
</span><span class='line'>    nodebrew install-binary &lt;version&gt;     Download and install a &lt;version&gt; <span class="o">(</span>binary file<span class="o">)</span>
</span><span class='line'>    nodebrew uninstall &lt;version&gt;          Uninstall a version
</span><span class='line'>    nodebrew use &lt;version&gt;                Use &lt;version&gt;
</span><span class='line'>    nodebrew list                         List installed versions
</span><span class='line'>    nodebrew ls                           Alias <span class="k">for</span> <span class="sb">`</span>list<span class="sb">`</span>
</span><span class='line'>    nodebrew ls-remote                    List remote versions
</span><span class='line'>    nodebrew ls-all                       List remote and installed versions
</span><span class='line'>    nodebrew <span class="nb">alias</span> &lt;key&gt; &lt;version&gt;        Set <span class="nb">alias </span>to version
</span><span class='line'>    nodebrew <span class="nb">unalias</span> &lt;key&gt;                Remove <span class="nb">alias</span>
</span><span class='line'><span class="nb">    </span>nodebrew clean &lt;version&gt; <span class="p">|</span> all        Remove <span class="nb">source </span>file
</span><span class='line'>    nodebrew selfupdate                   Update nodebrew
</span><span class='line'>    nodebrew migrate-package &lt;version&gt;    Install global NPM packages contained in &lt;version&gt; to current version
</span><span class='line'>    nodebrew <span class="nb">exec</span> &lt;version&gt; -- &lt;<span class="nb">command</span>&gt;  Execute &lt;<span class="nb">command</span>&gt; specified &lt;version&gt;
</span><span class='line'>
</span><span class='line'>Example:
</span><span class='line'>    <span class="c"># install from binary</span>
</span><span class='line'>    nodebrew install-binary v0.10.22
</span><span class='line'>
</span><span class='line'>    <span class="c"># use a specific version number</span>
</span><span class='line'>    nodebrew use v0.10.22
</span><span class='line'>
</span><span class='line'>    <span class="c"># io.js</span>
</span><span class='line'>    nodebrew install-binary io@v1.0.0
</span><span class='line'>    nodebrew use io@v1.0.0
</span></code></pre></td></tr></table></div></figure>


<h2>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ Node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew ls-remote
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE release<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>v0.0.1    v0.0.2    v0.0.3    v0.0.4    v0.0.5    v0.0.6
</span><span class='line'>
</span><span class='line'>...
</span><span class='line'>
</span><span class='line'>io@v3.3.0 io@v3.3.1
</span></code></pre></td></tr></table></div></figure>


<h2>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (binary ã‚’æŒ‡å®šã—ãŸã»ã†ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã‹ã‹ã‚‹æ™‚é–“ãŒçŸ­ã„ã‚ˆã†ã )</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew install-binary v6.11.3
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE platform<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE release<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE arch<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE version<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>fetch: http://nodejs.org/dist/v6.11.3/node-v6.11.3-darwin-x64.tar.gz
</span><span class='line'>Warning: Failed to create the file
</span><span class='line'>Warning: /Users/sojiro/.nodebrew/src/v6.11.3/node-v6.11.3-darwin-x64.tar.gz:
</span><span class='line'>Warning: No such file or directory
</span><span class='line'>
</span><span class='line'>curl: <span class="o">(</span>23<span class="o">)</span> Failed writing body <span class="o">(</span><span class="m">0</span> !<span class="o">=</span> 792<span class="o">)</span>
</span><span class='line'>download faild: http://nodejs.org/dist/v6.11.3/node-v6.11.3-darwin-x64.tar.gz
</span></code></pre></td></tr></table></div></figure>


<p>è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‰ãªã„ã¨ãƒ€ãƒ¡ã‚‰ã—ã„</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mkdir -p ~/.nodebrew/src
</span></code></pre></td></tr></table></div></figure>


<p>å†åº¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew install-binary v6.11.3
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE platform<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE release<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE version<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>Unescaped left brace in regex is deprecated, passed through in regex<span class="p">;</span> marked by &lt;-- HERE in m/#<span class="o">{</span> &lt;-- HERE arch<span class="o">}</span>/ at /usr/local/bin/nodebrew line 731.
</span><span class='line'>fetch: http://nodejs.org/dist/v6.11.3/node-v6.11.3-darwin-x64.tar.gz
</span><span class='line'><span class="c">######################################################################## 100.0%</span>
</span><span class='line'>Install successful
</span></code></pre></td></tr></table></div></figure>


<p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew list
</span><span class='line'>v6.11.3
</span><span class='line'>
</span><span class='line'>current: none
</span></code></pre></td></tr></table></div></figure>


<h2>ä½¿ã†ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨­å®š</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>nodebrew use v6.11.3
</span><span class='line'>use v6.11.3
</span></code></pre></td></tr></table></div></figure>


<h2>ã‚³ãƒãƒ³ãƒ‰ã«ãƒ‘ã‚¹ã‚’é€šã™</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:/Users/sojiro/.nodebrew/current/bin&#39;</span> &gt;&gt; ~/.bashrc
</span><span class='line'><span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
</span></code></pre></td></tr></table></div></figure>


<p><code>node</code> åŠã³ <code>npm</code> ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>node -v
</span><span class='line'>v6.11.3
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>npm -v
</span><span class='line'>3.10.10
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/08/25/value-object-and-collection-object/">å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-08-25T18:07:57+09:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>6:07 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>æŸå…ˆè¼©ã®æ›¸è©•ã‚’èª­ã‚“ã§æ°—ã«ãªã£ãŸã®ã§ ã€<a href="http://amzn.to/2vpxmgg">ç¾å ´ã§å½¹ç«‹ã¤ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®åŸå‰‡</a>ã€ ã¨ã„ã†æœ¬ã‚’èª­ã‚“ã ã€‚</p>

<p>ã¨ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãã®å…ˆè¼©ã«è‡ªåˆ†ã®æ›¸ãã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦è‰²ã€…ã”æŒ‡æ‘˜ã‚’ã„ãŸã ã„ã¦ã„ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚ã‚Šã€è‡ªåˆ†ã¨ã—ã¦ã¯ã‹ãªã‚Šå‚è€ƒã«ãªã£ãŸç‚¹ãŒã‚ã‚‹ã®ã§å‚™å¿˜ã‚‚å…¼ã­ã¦æ›¸ã„ã¦ã¿ã‚‹ã€‚</p>

<p>ä»Šå›ã¯ç‰¹ã«ã€Œå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã¨ã€Œã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ã€ã«ã¤ã„ã¦ã€‚</p>

<h2>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</h2>

<p>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç™»å ´ã™ã‚‹æ§˜ã€…ãªå€¤ã«å¯¾ã—ã¦ãã®å€¤ã‚’æ‰±ã†ãŸã‚ã®å°‚ç”¨ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹ã¨ã„ã†è€ƒãˆæ–¹ã€‚</p>

<h3>å€¤ã”ã¨ã«ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹</h3>

<p>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è€ƒãˆæ–¹ã‚’ãƒ«ãƒ¼ãƒ«åŒ–ã™ã‚‹ã¨ã€ã€Œãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã‚„ <code>String</code> å‹ã¯ä½¿ã‚ãªã„ã€ã¨ã„ã†æ–¹é‡ã¨ãªã‚‹ã€‚</p>

<p>ä¾‹ãˆã°ã€å…ˆè¿°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ã§ã¯ç™»å ´ã™ã‚‹æ§˜ã€…ãªå€¤ã‚’ <code>String</code> å‹ã§è¡¨ç¾ã—ã¦ã„ãŸã€‚</p>

<ul>
<li><code>userId</code></li>
<li><code>nickname</code></li>
<li><code>address</code></li>
<li>etc&hellip;</li>
</ul>


<p>ã“ã‚Œã‚‰ã¯ã‚µãƒ¼ãƒãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å£ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€šã‚‹ã‚‚ã®ã®ã€ãã®å¾Œã®å€¤ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰å†…ã§ä¿è¨¼ã•ã‚Œãªã„ãŸã‚éå¸¸ã«ä¸å®‰å®šã ã£ãŸã€‚</p>

<p>ã¾ãŸã€ä¾‹ãˆã° <code>nickname</code> ã¨ <code>address</code> ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘ä»˜ã‘ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã£ãŸã¨ã™ã‚‹ã¨</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="n">User</span> <span class="nf">hoge</span><span class="o">(</span><span class="n">String</span> <span class="n">nickname</span><span class="o">,</span> <span class="n">String</span> <span class="n">address</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="o">...</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã¨ãªã‚‹ã‚ã‘ã ãŒã€ã“ã®æ™‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†å´ã§é–“é•ãˆã¦ <code>address</code>, <code>nickname</code> ã®é †ã§å¼•æ•°ã‚’æŒ‡å®šã—ãŸã¨ã—ã¦ã‚‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ãã®å¼•æ•°ã‚’å—ã‘ä»˜ã‘ã¦ã—ã¾ã†ã€‚</p>

<p>ãã“ã§ <code>Nickname</code> ã‚¯ãƒ©ã‚¹ã¨ <code>Address</code> ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã®ãŒå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è€ƒãˆæ–¹ã ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Nickname</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MIN_LENGTH</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MAX_LENGTH</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">String</span> <span class="n">nickname</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Nickname</span><span class="o">(</span><span class="n">String</span> <span class="n">nickname</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">nickname</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">MIN_LENGTH</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;nickname length must be at least&quot;</span> <span class="o">+</span> <span class="n">MIN_LENGTH</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">nickname</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">MAX_LENGTH</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;nickname length must be under&quot;</span> <span class="o">+</span> <span class="n">MAX_LENGTH</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">nickname</span> <span class="o">=</span> <span class="n">nickname</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>address</code> ã«å¯¾ã—ã¦ã‚‚åŒæ§˜ã«ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¦å…ˆã»ã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="n">User</span> <span class="nf">hoge</span><span class="o">(</span><span class="n">Nickname</span> <span class="n">nickname</span><span class="o">,</span> <span class="n">Address</span> <span class="n">address</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="o">...</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã¨ã™ã‚Œã°ã‚ˆã‚Šå …ã„å®Ÿè£…ã¨ãªã‚‹ã€‚</p>

<h3>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸å¤‰ã¨ã™ã‚‹</h3>

<p>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å€¤ã¯ä¸Šæ›¸ãã—ãªã„ã¨ã„ã†ã®ã‚‚å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†ä¸Šã§é‡è¦ãªè€ƒãˆæ–¹ã§ã€ã“ã‚Œã‚’ãƒ«ãƒ¼ãƒ«åŒ–ã™ã‚‹ã¨ã€ã€Œå€¤ã‚’å¤‰æ›´ã™ã‚‹åº¦ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãã®ã‚‚ã®ã‚’æ–°ã—ãï¼ˆåˆ¥ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ï¼‰ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Nickname</span> <span class="n">nickname</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Nickname</span><span class="o">(</span><span class="s">&quot;sojiro&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">nickname</span><span class="o">.</span><span class="na">setNickname</span><span class="o">(</span><span class="s">&quot;shin-sojiro&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã§ã¯ãªã</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Nickname</span> <span class="n">nickname</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Nickname</span><span class="o">(</span><span class="s">&quot;sojiro&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">Nickname</span> <span class="n">updatedNickname</span> <span class="o">=</span> <span class="n">nickname</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="s">&quot;shin-sojiro&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã¨ã™ã‚‹ã“ã¨ã§ã€å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã©ã®å€¤ã‚’ã‚‚ã£ã¦ã„ã‚‹ã®ã‹ãŒæ˜ç¢ºã¨ãªã‚Šã€çŸ¥ã‚‰ãªã„ã†ã¡ã«å€¤ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã‚‹ã€‚</p>

<h2>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼‰</h2>

<p>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è€ƒãˆæ–¹ã‚’ç™ºå±•ã•ã›ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‹ã®ãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç‹¬è‡ªã®ã‚¯ãƒ©ã‚¹ã«åˆ‡ã‚Šå‡ºã™è€ƒãˆæ–¹ã‚’ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã‚‚ã—ãã¯ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨ã„ã†ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="n">users</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã®ã‚ˆã†ã«æ‰±ã£ã¦ã„ãŸ <code>User</code> ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã€ <code>Users</code> ã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã€ãã®ã‚¯ãƒ©ã‚¹ã§æ“ä½œãŒå®Œçµã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Users</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Users</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">users</span> <span class="o">=</span> <span class="n">users</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Users</span> <span class="nf">add</span><span class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">userList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;(</span><span class="n">users</span><span class="o">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">new</span> <span class="nf">Users</span><span class="o">(</span><span class="n">userList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">user</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">asList</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">Collections</span><span class="o">.</span><span class="na">unmodifiableList</span><span class="o">(</span><span class="n">users</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€</p>

<ul>
<li>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å€¤ã«å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯å¸¸ã«æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ãŸã‚ˆã†ã«ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯æ–°ãŸãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã“ã¨</li>
<li>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®å‚ç…§ã‚’è¿”ã™å ´åˆã¯ãªã‚‹ã¹ãå¤‰æ›´ã§ããªã„çŠ¶æ…‹ã«ã—ã¦è¿”ã™ã“ã¨</li>
</ul>


<p>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®æ“ä½œã‚’ç‹¬è‡ªã‚¯ãƒ©ã‚¹ã«é–‰ã˜è¾¼ã‚ã€åŒä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŒã¤ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ãŒå¤‰åŒ–ã™ã‚‹ã“ã¨ã®ãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã‚ˆã‚Šå …ã„å®Ÿè£…ã¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>

<h2>æ„Ÿæƒ³</h2>

<p>Perl ã‹ã‚‰ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å§‹ã‚ãŸã“ã¨ã‚‚ã‚ã£ã¦ã‹ï¼ˆè¨€ã„è¨³ï¼‰ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã¨è¨€ã£ã¦ã‚‚å‹ã¸ã®æ„è­˜ã¯ä½ãã€å¦‚ä½•ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ç‚¹ã§ãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹å …ã„å®Ÿè£…ã¨ã™ã‚‹ã‹ã€ãã®å¤‰æ•°ã«ä»Šã©ã®ã‚ˆã†ãªå€¤ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚’ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã§æ˜ç¢ºã«ã™ã‚‹ã‹ã€ã¨ã„ã†ã‚ˆã†ãªæ„è­˜ã‚‚ä½ã‹ã£ãŸã€‚</p>

<p><a href="http://amzn.to/2vpxmgg">ç¾å ´ã§å½¹ç«‹ã¤ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®åŸå‰‡</a> ã‹ã‚‰ã¯ä»–ã«ã‚‚å­¦ã‚“ã ç‚¹ãŒå¤šã„ã®ã§è¿½ã£ã¦è¨˜äº‹ã«ã§ããŸã‚‰ã¨æ€ã†ã€‚</p>

<h2>å‚ç…§</h2>

<p><a href="http://amzn.to/2vpxmgg">ç¾å ´ã§å½¹ç«‹ã¤ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®åŸå‰‡</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/06/19/wordpress-on-gae/">WordPress on GAE</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-06-19T00:34:42+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>12:34 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><h2>GCP ã®äº‹å‰æº–å‚™</h2>

<p>ä»¥ä¸‹ã®æº–å‚™ãŒäº‹å‰ã«å¿…è¦ã€‚ã“ã“ã§ã¯å‰²æ„›ã€‚</p>

<ul>
<li>GCP ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ</li>
<li>GCP ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ</li>
<li>èª²é‡‘ã®æœ‰åŠ¹åŒ–</li>
<li>GCS(Google Cloud Storage)ã« default bucket ã‚’ä½œæˆ

<ul>
<li>default bucket: <code>YOUR_PROJECT_NAME.appspot.com</code></li>
</ul>
</li>
<li>Google Cloud SDK ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<ul>
<li><a href="https://cloud.google.com/sdk/">https://cloud.google.com/sdk/</a></li>
</ul>
</li>
</ul>


<h2>Composer ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>

<p>Composer ã¯ PHP ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ„ãƒ¼ãƒ«</p>

<blockquote><p>Composer is strongly inspired by node&rsquo;s npm and ruby&rsquo;s bundler.</p></blockquote>

<p>node ã® npmã€ruby ã® bundler ã«å¼·ãå½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹ã‚ˆã†ã ã€‚</p>

<h3>æ‰‹é †</h3>

<p>PHP ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>php -v
</span><span class='line'>PHP 5.5.38 <span class="o">(</span>cli<span class="o">)</span> <span class="o">(</span>built: Aug <span class="m">21</span> <span class="m">2016</span> 21:48:49<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://getcomposer.org/download/">ã“ã¡ã‚‰</a> ã®æ‰‹é †é€šã‚Š Composer ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>php -r <span class="s2">&quot;copy(&#39;https://getcomposer.org/installer&#39;, &#39;composer-setup.php&#39;);&quot;</span>
</span><span class='line'><span class="nv">$ </span>php -r <span class="s2">&quot;if (hash_file(&#39;SHA384&#39;, &#39;composer-setup.php&#39;) === &#39;669656bab3166a7aff8a7506b8cb2d1c292f042046c5a994c43155c0be6190fa0355160742ab2e1c88d40d5be660b410&#39;) { echo &#39;Installer verified&#39;; } else { echo &#39;Installer corrupt&#39;; unlink(&#39;composer-setup.php&#39;); } echo PHP_EOL;&quot;</span>
</span><span class='line'><span class="nv">$ </span>php composer-setup.php
</span><span class='line'><span class="nv">$ </span>php -r <span class="s2">&quot;unlink(&#39;composer-setup.php&#39;);&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ãŠã</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mv composer.phar /usr/local/bin/composer
</span></code></pre></td></tr></table></div></figure>


<h2>GCS ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™å¤‰æ›´</h2>

<p>ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>gcloud auth login
</span><span class='line'><span class="nv">$ </span>gcloud config <span class="nb">set </span>project YOUR_PROJECT_NAME
</span></code></pre></td></tr></table></div></figure>


<p>GCS ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©æ›´æ–°</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>gsutil defacl ch -u AllUsers:R gs://YOUR_PROJECT_NAME.appspot.com
</span></code></pre></td></tr></table></div></figure>


<h2>DB ã® setup</h2>

<p>Cloud SQL ã‚’ä½¿ã†ã®ã§ GCP ã® SQL ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</p>

<ul>
<li><code>wp</code> ã¨ã„ã†åå‰ã§ MySQL ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç«‹ã¦ã‚‹

<ul>
<li>ã“ã®ã¨ãç¬¬2ä¸–ä»£ã‚’é¸æŠå¯</li>
<li>æ—¥æœ¬å‘ã‘ãŒãƒ¡ã‚¤ãƒ³ã§ã‚ã‚Œã°ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¯ <code>asia-northeast1</code></li>
<li>ãƒã‚·ãƒ³ã‚¿ã‚¤ãƒ—ã¯å®‰ã•é‡è¦–ãªã‚‰ <code>db-f1-micro</code> ã¨ã™ã‚‹ ï¼ˆã“ã®ã‚¿ã‚¤ãƒ—ã§ 30å††/æ—¥ ã¨ã„ã†å°è±¡ï¼‰</li>
<li>ä»–ã®è¨­å®šã¯ãŠå¥½ã¿ã§&hellip;</li>
</ul>
</li>
<li>ç«‹ã¦ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã« <code>wp</code> ã¨ã„ã†åå‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚‹</li>
<li><code>wp</code> ã¨ã„ã†ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã‚‹

<ul>
<li>ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã€ã¨ãŸã©ã‚‹</li>
</ul>
</li>
</ul>


<h2>WordPress ã® setup</h2>

<p>ãƒ­ãƒ¼ã‚«ãƒ«ã« WordPress æ§‹ç¯‰ã«å¿…è¦ãªç´ æã‚’ç”¨æ„ã™ã‚‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://github.com/GoogleCloudPlatform/php-docs-samples.git
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>php-docs-samples/appengine/wordpress/
</span><span class='line'><span class="nv">$ </span>composer install
</span></code></pre></td></tr></table></div></figure>


<p>setup ã®é–‹å§‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>php wordpress-helper.php setup
</span><span class='line'><span class="c"># ã“ã“ã§ã„ã‚ã„ã‚ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«èã‹ã‚Œã‚‹ã®ã§ç­”ãˆã‚‹</span>
</span></code></pre></td></tr></table></div></figure>


<p>â€» ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èã‹ã‚Œã‚‹ãŒã€ <code>asia-northeast1</code> ãŒãªã„å ´åˆã¯é©å½“ã«ç­”ãˆã¦ãŠã</p>

<h3>DB_HOST è¨­å®šã‚’å¤‰æ›´</h3>

<p>ä¸Šè¨˜æ‰‹é †ã§ WordPress setup æ™‚ã«é©åˆ‡ãªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒæŒ‡å®šã§ããªã‹ã£ãŸå ´åˆã«ã¯è‡ªåˆ†ã§ä¸€éƒ¨è¨­å®šã‚’å¤‰æ›´ã™ã‚‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd </span>YOUR_PROJECT_NAME/
</span><span class='line'>vim wordpress/wp-config.php
</span></code></pre></td></tr></table></div></figure>


<p><code>/** Production login info */</code> ä»¥ä¸‹ã® <code>DB_HOST</code> ã‚’é©åˆ‡ãªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç”¨ã„ã¦å¤‰æ›´ã™ã‚‹</p>

<h2>Deploy</h2>

<p>GAE ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã« WordPress ã‚’ deploy ã™ã‚‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>gcloud app deploy --promote --stop-previous-version app.yaml cron.yaml
</span></code></pre></td></tr></table></div></figure>


<p>æœ€åˆã¯ã‹ãªã‚Šå¤šãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ GCS ã«ã‚ã’ã‚‹ã®ã§ãã“ãã“æ™‚é–“ãŒã‹ã‹ã‚‹</p>

<h2>å‚ç…§</h2>

<p><a href="https://github.com/GoogleCloudPlatform/php-docs-samples/tree/master/appengine/wordpress">https://github.com/GoogleCloudPlatform/php-docs-samples/tree/master/appengine/wordpress</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/06/18/unix-time-handling/">Unix Timeã®æ‰±ã„</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-06-18T14:07:59+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>2:07 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Unix time ã‚’æ—¥ä»˜åŠã³æ™‚åˆ»ã«å¤‰æ›ã—ãŸã„ã“ã¨ã€æ—¥ä»˜åŠã³æ™‚åˆ»ã‚’ Unix time ã«å¤‰æ›ã—ãŸã„ã“ã¨ãŒã‚ã‚‹ã€‚</p>

<h3>Unix time ã‹ã‚‰ã®å¤‰æ›</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ date -r 616388399
</span><span class='line'>1989å¹´ 7æœˆ14æ—¥ é‡‘æ›œæ—¥ 11æ™‚59åˆ†59ç§’ JST</span></code></pre></td></tr></table></div></figure>


<h3>æ—¥ä»˜ã‹ã‚‰ã®å¤‰æ›</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ date -jf '%Y-%m-%d %H:%M:%S' '1989-07-14 11:59:59' +%s
</span><span class='line'>616388399</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/06/17/copy-output-to-clipboard/">ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç›´æ¥ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«å‡ºåŠ›ã™ã‚‹</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-06-17T08:21:23+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>8:21 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç›´æ¥ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ãŸã‚Šã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒšãƒ¼ã‚¹ãƒˆã—ãŸã„ã“ã¨ãŒã‚ã‚‹ã€‚</p>

<h3>ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>cat ~/Desktop/memo.text <span class="p">|</span> pbcopy
</span></code></pre></td></tr></table></div></figure>


<h3>ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒšãƒ¼ã‚¹ãƒˆ</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>pbpaste &gt; ~/Documents/memo.text
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/06/16/could-not-open-the-requested-socket-on-android-studio/">Could Not Open the Requested Socket ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-06-16T02:28:06+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>2:28 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Android Studio ã§ GAE ã«ä¹—ã›ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ã¦ã„ã‚‹ã¨ãã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚ˆã†ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸ</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Could not open the requested socket: Address already in use
</span><span class='line'>Try overriding --address and/or --port.</span></code></pre></td></tr></table></div></figure>


<p>ã©ã†ã‚„ã‚‰ä»¥å‰ç«‹ã¡ä¸Šã’ãŸéš›ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒç”Ÿãæ®‹ã£ã¦ã„ã¦é‚ªé­”ã—ã¦ã„ã‚‹ã‚‰ã—ã„</p>

<h3>ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã—ãŸ</h3>

<p>Android Studio ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ <code>Run</code> â†’ <code>Edit Configurations...</code> ã¨ãŸã©ã‚Šã€å¯¾è±¡ module ãŒä½¿ã£ã¦ã„ã‚‹ port ã‚’ç¢ºèª</p>

<p>ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèªã€ãã—ã¦ <code>kill</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>lsof -i:8080
</span><span class='line'>COMMAND   PID    USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
</span><span class='line'>java    <span class="m">74792</span>  sojiro   48u  IPv6 0xXXXXXXXXXXXXXXXX      0t0  TCP *:http-alt <span class="o">(</span>LISTEN<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">kill</span> -9 74792
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/31/study-of-perfect-java-chapter-10/">ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJavaèª­æ›¸ãƒ¡ãƒ¢ Chapter 10 Javaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œã¨åˆ¶å¾¡æ§‹æ–‡</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-31T03:40:04+09:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2016</span></span> <span class='time'>3:40 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Javaã‚’ä½¿ã†ãŸã‚ã«<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">æ”¹è¨‚2ç‰ˆ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJava</a>ã‚’èª­ã‚“ã ãƒ¡ãƒ¢</p>

<h2>æ¡ä»¶åˆ†å²</h2>

<h3>if-elseæ–‡</h3>

<p>ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®å–ã‚Šæ–¹ã«é–¢ä¿‚ãªã <code>else</code> ã¯æœ€ã‚‚è¿‘ã„ï¼ˆç›´è¿‘ã®ï¼‰ <code>if</code> ã«ã‹ã‹ã‚‹</p>

<h3>switch-caseæ–‡</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">switch</span><span class="o">(</span><span class="n">å¼</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'><span class="k">case</span> <span class="nl">å®šæ•°1:</span>
</span><span class='line'>    <span class="mi">0</span><span class="n">å€‹ä»¥ä¸Šã®æ–‡</span>
</span><span class='line'><span class="k">case</span> <span class="nl">å®šæ•°N:</span>
</span><span class='line'>    <span class="mi">0</span><span class="n">å€‹ä»¥ä¸Šã®æ–‡</span>
</span><span class='line'><span class="k">default</span><span class="o">:</span>
</span><span class='line'>    <span class="mi">0</span><span class="n">å€‹ä»¥ä¸Šã®æ–‡</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>å¼ã®è©•ä¾¡å€¤ã¯ä»¥ä¸‹</p>

<ul>
<li>int å‹</li>
<li>int å‹ã«æš—é»™ã«å‹å¤‰æ›ã•ã‚Œã‚‹å‹

<ul>
<li>char</li>
<li>byte</li>
<li>short</li>
</ul>
</li>
<li>æ•°å€¤ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹

<ul>
<li>Integer</li>
<li>Character</li>
<li>Byte</li>
<li>Short</li>
</ul>
</li>
<li>enum å‹</li>
<li>String å‹</li>
</ul>


<p>å¼ãŒ <code>null</code> ã«ãªã‚‹ã¨ <code>NullPointerException</code> ãŒç™ºç”Ÿã™ã‚‹</p>

<p><code>break;</code> æ–‡ãŒãªã„é™ã‚Šå‡¦ç†ã‚’ç¶šã‘ã‚‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'><span class="k">switch</span> <span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</span><span class='line'>    <span class="k">default</span><span class="o">:</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;default&quot;</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="mi">0</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="k">default</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ç¹°ã‚Šè¿”ã—</h2>

<h3>foræ–‡</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">for</span> <span class="o">(</span><span class="n">åˆæœŸåŒ–å¼</span><span class="o">;</span> <span class="n">æ¡ä»¶å¼</span><span class="o">;</span> <span class="n">æ›´æ–°å¼</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">æ–‡</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>æ¡ä»¶å¼ã¯è©•ä¾¡å€¤ãŒ <code>boolean</code> ã‚‚ã—ãã¯ <code>Boolean</code></p>

<p>åˆæœŸåŒ–å¼ã¨æ›´æ–°å¼ã¯è¤‡æ•°ã®å¼ã‚’ <code>,</code> ã§åŒºåˆ‡ã£ã¦æ›¸ã‘ã‚‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">);</span> <span class="n">i</span><span class="o">++,</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>â€¨
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç•°ãªã‚‹å‹ã®å®£è¨€ã¨åˆæœŸåŒ–ã‚’ä¸¦ã¹ã‚‹ã¨ã‚¨ãƒ©ãƒ¼</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="kt">byte</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">);</span> <span class="n">i</span><span class="o">++,</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>â€¨
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>foræ–‡ã®å¤–ã«å‡ºã—ã¦å›é¿</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
</span><span class='line'><span class="kt">byte</span> <span class="n">j</span><span class="o">;</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">);</span> <span class="n">i</span><span class="o">++,</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>â€¨
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ã‚¸ãƒ£ãƒ³ãƒ—</h2>

<h3>breakæ–‡</h3>

<ul>
<li>ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹</li>
<li>ãƒ«ãƒ¼ãƒ—ãŒãƒã‚¹ãƒˆã—ã¦ã„ã‚‹å ´åˆã€æŠœã‘ã‚‹ã®ã¯å†…å´ã®ãƒ«ãƒ¼ãƒ—ã®ã¿</li>
</ul>


<h3>continueæ–‡</h3>

<ul>
<li>ãƒ«ãƒ¼ãƒ—å†…ã®æ–‡ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ãƒ«ãƒ¼ãƒ—ã®æ¡ä»¶å¼ã®è©•ä¾¡ã«æˆ»ã‚‹</li>
</ul>


<h3>ãƒ©ãƒ™ãƒ«</h3>

<ul>
<li>ç¹°ã‚Šè¿”ã—ã«ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã‚‹</li>
<li>breakæ–‡ã€continueæ–‡ã«ãƒ©ãƒ™ãƒ«ã‚’æ¸¡ã™ã“ã¨ã§ã©ã®ç¹°ã‚Šè¿”ã—ã‚’å¯¾è±¡ã«ã™ã‚‹ã‹å®šã‚ã‚‹</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="nl">target_loop:</span>
</span><span class='line'><span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">break</span> <span class="n">target_loop</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>å¤–å´ã® while ãƒ«ãƒ¼ãƒ—ã« <code>target_loop</code> ã¨ã„ã†ãƒ©ãƒ™ãƒ«ãŒã¤ã</li>
<li><code>break target_loop</code> ã§å¤–å´ã® while ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹</li>
<li>ï¼ˆ <code>continue</code> ã®å ´åˆã¯å¯¾è±¡ã®ãƒ«ãƒ¼ãƒ—å†…ã®æ–‡ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦æ¡ä»¶å¼ã®è©•ä¾¡ã«æˆ»ã‚‹ï¼‰</li>
</ul>


<h2>å‚ç…§</h2>

<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">æ”¹è¨‚2ç‰ˆ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJava</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/24/study-of-perfect-java-chapter-9/">ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJavaèª­æ›¸ãƒ¡ãƒ¢ Chapter 9 æ–‡ã€å¼ã€æ¼”ç®—å­</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-24T03:19:11+09:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>3:19 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Javaã‚’ä½¿ã†ãŸã‚ã«<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">æ”¹è¨‚2ç‰ˆ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJava</a>ã‚’èª­ã‚“ã ãƒ¡ãƒ¢</p>

<h2>Java ã®æ–‡æ³•ã¨æ–‡</h2>

<p>Java ã§æ‰±ã†æ–‡ã¯ä»¥ä¸‹ã®4ç¨®é¡</p>

<ul>
<li>åˆ¶å¾¡æ–‡</li>
<li>ãƒ–ãƒ­ãƒƒã‚¯æ–‡</li>
<li>å®£è¨€æ–‡</li>
<li>å¼æ–‡</li>
</ul>


<p>å®£è¨€æ–‡ã¨å¼æ–‡ã¯çµ‚ç«¯ã«ã‚»ãƒŸã‚³ãƒ­ãƒ³å¿…è¦</p>

<h2>Java ã®æ¼”ç®—å­ã¨å¼</h2>

<ul>
<li><code>&amp;&amp;</code> ã€ <code>||</code> ã€ <code>?</code> <code>:</code> ï¼ˆä¸‰é …æ¼”ç®—å­ï¼‰ã‚’é™¤ãã™ã¹ã¦ã®æ¼”ç®—å­ã¯æ¼”ç®—å‰ã«ã™ã¹ã¦ã®ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã‚’è©•ä¾¡ã™ã‚‹</li>
<li>ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã¯å·¦ã®ã‚‚ã®ã‹ã‚‰è©•ä¾¡ã™ã‚‹</li>
<li>ãƒ¡ã‚½ãƒƒãƒ‰åŠã³ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å‘¼ã³å‡ºã—å¼ã§ã¯å¼•æ•°ã‚’å·¦ã‹ã‚‰è©•ä¾¡ã™ã‚‹</li>
</ul>


<h2>æ•°å€¤ã®æ¼”ç®—</h2>

<h3>ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ/ãƒ‡ã‚¯ãƒªãƒ¡ãƒ³ãƒˆæ¼”ç®—ã®å‰ç½®å¾Œç½®</h3>

<p>å‰ç½®æ¼”ç®—ã¯è©•ä¾¡å€¤ãŒæ¼”ç®—å¾Œã®å€¤ã€å¾Œç½®æ¼”ç®—ã¯è©•ä¾¡å€¤ãŒæ¼”ç®—å‰ã®å€¤</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="o">++</span><span class="n">n</span><span class="o">;</span>
</span><span class='line'><span class="c1">// m: 11, n: 11</span>
</span><span class='line'><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="o">++;</span>
</span><span class='line'><span class="c1">// m: 10, n: 11</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'><span class="k">while</span> <span class="o">(++</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">// ãƒ«ãƒ¼ãƒ—ãŒå›ã‚‹å›æ•°ã¯ 9 å›</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>è«–ç†æ¼”ç®—</h2>

<h3>é…å»¶è©•ä¾¡</h3>

<p><code>&amp;&amp;</code> ã€<code>||</code> ã¯é…å»¶è©•ä¾¡ã‚’è¡Œã†</p>

<ul>
<li><code>&amp;&amp;</code> ã¯å·¦è¾ºã®è©•ä¾¡å€¤ãŒå½ã§ã‚ã‚Œã°å³è¾ºã®è©•ä¾¡å€¤ã«é–¢ä¿‚ãªãçµæœãŒå½ã«ãªã‚‹ãŸã‚å³è¾ºã‚’è©•ä¾¡ã—ãªã„</li>
<li><code>||</code> ã¯å·¦è¾ºã®è©•ä¾¡å€¤ãŒçœŸã§ã‚ã‚Œã°å³è¾ºã®è©•ä¾¡å€¤ã«é–¢ä¿‚ãªãçµæœãŒçœŸã«ãªã‚‹ãŸã‚å³è¾ºã®è©•ä¾¡ã‚’ã—ãªã„</li>
</ul>


<p>ã“ã‚Œã‚‰ã®æ¼”ç®—å­ã®å³è¾ºã«å‰¯ä½œç”¨ã®ã‚ã‚‹å¼ã‚’æ›¸ãã¨ã€å·¦è¾ºã®è©•ä¾¡å€¤ã«ã‚ˆã‚Šå®Ÿè¡Œã•ã‚‹ã‹å¦ã‹ãŒå¤‰ã‚ã£ã¦ãã‚‹ã®ã§æ³¨æ„</p>

<h2>ãã®ä»–ã®æ¼”ç®—</h2>

<h3>instanceof æ¼”ç®—å­</h3>

<p>ãƒ€ã‚¦ãƒ³ã‚­ãƒ£ã‚¹ãƒˆã‚’å®‰å…¨ã«è¡Œãˆã‚‹ã‹ã‚’äº‹å‰ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹</p>

<h2>å‚ç…§</h2>

<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">æ”¹è¨‚2ç‰ˆ ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆJava</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/10/about-gae-task-queue/">GAE Task Queue ã«ã¤ã„ã¦</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-10T21:29:29+09:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>9:29 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>GAE ã® Task Queue ã«ã¤ã„ã¦ã–ã£ãã‚Šã€‚</p>

<p>å…·ä½“çš„ãªå®Ÿè£…ã«é–¢ã—ã¦ã¯åˆ¥ã‚¨ãƒ³ãƒˆãƒªã«æ›¸ã“ã†ã¨æ€ã„ã¾ã™ã€‚</p>

<h2>Overview</h2>

<ul>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‡¦ç†ï¼ˆtaskï¼‰ã‚’ Task Queue API ã«æ¸¡ã™ï¼ˆqueueï¼‰ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¤–ã§éåŒæœŸã«å‡¦ç†ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>task ã¯ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãª GAE ã® Worker ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã£ã¦ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‡¦ç†ã•ã‚Œã‚‹</li>
</ul>


<p>Task Queue ã«ã¯ä»¥ä¸‹ã®2ã¤ã®ã‚¿ã‚¤ãƒ—ãŒã‚ã‚‹</p>

<h3>Push queues</h3>

<ul>
<li>queue ã‚’å‡¦ç†ã™ã‚‹é–“éš”ã‚’ã‚ã‚‰ã‹ã˜ã‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>queue ã¯ GAE ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã—ã¦å‡¦ç†ã•ã‚Œã‚‹</li>
<li>task ã®å‡¦ç†ã«ã¯æœŸé™ãŒã‚ã‚‹

<ul>
<li>è‡ªå‹•çš„ã«ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å‡¦ç†ã™ã‚‹ã‚‚ã®ã¯ 10 åˆ†ä»¥å†…</li>
<li>ãã†ã§ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å‡¦ç†ã™ã‚‹ã‚‚ã®ã¯ 24 æ™‚é–“ä»¥å†…</li>
</ul>
</li>
</ul>


<h3>Pull queues</h3>

<ul>
<li>GAE ã¯ queue ã‚’å‡¦ç†ã›ãšã€å¤–éƒ¨ã® Worker ãŒ queue ã‚’å–å¾—ï¼ˆleaseï¼‰ã—ã¦å‡¦ç†ã™ã‚‹</li>
<li>å¤–éƒ¨ã® Worker ã§ã€ã©ã®ã‚ˆã†ãªé–“éš”ã§ queue ã‚’å‡¦ç†ã™ã‚‹ã‹ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
<li>lease ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å¤–éƒ¨ Worker ã«å¯¾ã—ã¦ queue ã®å‡¦ç†æœŸé™ãŒæ¸¡ã•ã‚Œã‚‹</li>
<li>æœŸé™å†…ã« queue ã®å‡¦ç†ãŒå®Œäº†ã™ã‚‹ã‹ã€ queue ãŒå‰Šé™¤ã•ã‚Œãªã„å ´åˆã¯åŒä¸€ queue ã«å¯¾ã™ã‚‹ä»–ã® Worker ãƒ—ãƒ­ã‚»ã‚¹ã‹ã‚‰ã® lease ã‚’è¨±å¯ã™ã‚‹</li>
</ul>


<p>queue ã®å‡¦ç†ã¯éåŒæœŸã§è¡Œã‚ã‚Œã‚‹ã®ã§ task ã‚’ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯å‡¦ç†ã®çµæœã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ããªã„ãŒã€å‡¦ç†ã«å¤±æ•—ã—ãŸå ´åˆã¯è‡ªå‹•ã§ãƒªãƒˆãƒ©ã‚¤å‡¦ç†ãŒèµ°ã‚‹</p>

<h2>Use cases</h2>

<h3>Push queues</h3>

<ul>
<li>SNS ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹ãŸã³ã«ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã®æ›´æ–°ã‚’éåŒæœŸã§è¡Œã†</li>
<li>ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³åºƒå‘Šã®é€ä¿¡ã‚’ã‚ã‚‰ã‹ã˜ã‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¦ãŠã„ã¦æ±ºã‚ã‚‰ã‚ŒãŸæ™‚é–“ã«é€ã‚‹</li>
</ul>


<h3>Pull queues</h3>

<ul>
<li>ãƒãƒƒãƒã‚¸ãƒ§ãƒ–ã«åŠ¹æœãŒã‚ã‚‹</li>
<li>task ã« tag ã‚’ã¤ã‘ã‚‹ã“ã¨ã§å¤–éƒ¨ worker ãŒ lease ã™ã‚‹æ™‚ã«åŒã˜ tag ãŒã¤ã task ã‚’ã¾ã¨ã‚ã¦å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>å®Ÿè£…ä¾‹ã¨ã—ã¦ã¯è¤‡æ•°ã®ã‚²ãƒ¼ãƒ ã®ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ãŒå…¸å‹çš„

<ul>
<li>ãƒã‚¤ã‚¹ã‚³ã‚¢ã®æ›´æ–°ãŒã‚ã‚‹ãŸã³ã« game id ã‚’ tag ã¨ã—ã¦ã€ score ã¨ user åã‚’ enqueue ã™ã‚‹</li>
</ul>
</li>
</ul>


<h2>Push queue</h2>

<ul>
<li>Push queue ã¯ GAE ã® Worker ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã« HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ task ã‚’æ¸¡ã™</li>
<li>ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ä¸€å®šã®é–“éš”ã§å®Ÿè¡Œã•ã‚Œã€å¤±æ•—ã™ã‚‹ã¨æ–°ãŸãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚‚ã£ã¦ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œã‚‹</li>
<li>ã‚¿ã‚¹ã‚¯ã®ç¨®é¡ã”ã¨ã«ãƒãƒ³ãƒ‰ãƒ©ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹</li>
<li>1ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å„ç¨®é¡ã”ã¨ã®ãƒãƒ³ãƒ‰ãƒ©ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>task ã®ç¨®é¡ã”ã¨ã«åˆ¥ã€…ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã‚‹</li>
</ul>


<h3>Working with push queues</h3>

<ul>
<li>task ã‚’ä½œã£ã¦ push queue ã« enqueue ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã</li>
<li>task ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã£ã¦ GAE ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«æ¸¡ã™ãƒãƒ³ãƒ‰ãƒ©ã‚’æ›¸ã</li>
<li>quota ã‚’æ°—ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
</ul>


<h2>Pull queue</h2>

<ul>
<li>Pull queue ã‚’ä½¿ã†ã“ã¨ã§ç‹¬è‡ªã®ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ GAE ã® task ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>ã“ã“ã§ã„ã†ç‹¬è‡ªã®ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ GAE ã§æ§‹æˆã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ã‚‚å«ã¾ã‚Œã‚‹</li>
<li>GAE ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã¯ <code>com.google.appengine.api.taskqueue</code> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ task ã‚’å‡¦ç†ã§ãã‚‹</li>
<li>ãã®ä»–ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã¯ Task Queue REST API ã‚’ä½¿ã†</li>
<li>Push queue ã§ã¯ GAE ãŒã‚„ã£ã¦ãã‚Œã‚‹ä»¥ä¸‹ã®å‡¦ç†ã‚’è‡ªå‰ã§ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ worker ã‚¹ã‚±ãƒ¼ãƒ«ã®ç®¡ç†ã‚’ã™ã‚‹</li>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§å‡¦ç†ã®çµ‚ã‚ã£ãŸ task ã‚’å‰Šé™¤ã™ã‚‹</li>
<li>Pull queue ã¯ <code>queue.xml</code> ã¨ã„ã†è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦</li>
</ul>


<h3>Pull queue ã«ã‚ˆã‚‹ task å‡¦ç†ã®æµã‚Œ</h3>

<ol>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ task ã‚’ lease ã™ã‚‹</li>
<li>GAE ãŒ task ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™</li>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ task ã‚’å‡¦ç†ã™ã‚‹

<ol>
<li>ã‚‚ã— lease ã®æœŸé™ä»¥å†…ã«å‡¦ç†ã‚’å®Œäº†ã§ããªã‹ã£ãŸå ´åˆã¯å†åº¦ lease ã§ãã‚‹</li>
<li>retry ã§ãã‚‹æœ€å¤§ã®å›æ•°ã¯ã‚ã‚‰ã‹ã˜ã‚è¨­å®šã§ãã‚‹</li>
<li>ã“ã®å›æ•°ã‚’è¶…ãˆã‚‹ã¨ GAE ãŒ task ã‚’å‰Šé™¤ã™ã‚‹</li>
</ol>
</li>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ task ã¸ã®å‡¦ç†ãŒå®Œäº†ã—ãŸã‚‰å¿…ãšãã® task ã‚’å‰Šé™¤ã™ã‚‹</li>
</ol>


<h2>å‚ç…§</h2>

<ul>
<li><a href="https://cloud.google.com/appengine/docs/java/taskqueue/">Task Queue Overview</a></li>
<li><a href="https://cloud.google.com/appengine/docs/java/taskqueue/push/">Push Queues in Java</a></li>
<li><a href="https://cloud.google.com/appengine/docs/java/taskqueue/overview-pull">Using Pull Queues in Java</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/07/about-gae-datastore/">GAE Datastore ã«ã¤ã„ã¦</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-07T04:34:09+09:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:34 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>GAE ã® Datastore ã«ã¤ã„ã¦ã–ã£ãã‚Š</p>

<h2>Overview</h2>

<ul>
<li>ã‚¹ã‚­ãƒ¼ãƒã®ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</li>
<li>ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</li>
<li>ãƒ‡ã‚£ã‚¹ã‚¯ã¸ã®æ›¸ãè¾¼ã¿æ™‚ã«è‡ªå‹•ã§æš—å·åŒ–ã€èª­ã¿å‡ºã—æ™‚ã«è‡ªå‹•ã§å¾©å·</li>
<li>è¨ˆç”»çš„ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—</li>
</ul>


<table>
<thead>
<tr>
<th> Concept                   </th>
<th> Cloud Datastore </th>
<th> Relational database </th>
</tr>
</thead>
<tbody>
<tr>
<td> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæ‰€å±ã™ã‚‹ã‚«ãƒ†ã‚´ãƒª </td>
<td> Kind            </td>
<td> Table               </td>
</tr>
<tr>
<td> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ                </td>
<td> Entity          </td>
<td> Row                 </td>
</tr>
<tr>
<td> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚‚ã¤ãƒ‡ãƒ¼ã‚¿      </td>
<td> Property        </td>
<td> Field               </td>
</tr>
<tr>
<td> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç‰¹å®šã™ã‚‹ ID     </td>
<td> Key             </td>
<td> Primary key         </td>
</tr>
</tbody>
</table>


<ul>
<li>åŒä¸€ kind ã® entity ã§ã‚‚é•ã† property ã‚’æŒã¡ã†ã‚‹</li>
<li>ãã‚Œãã‚Œã® entity ã¯åŒåã® property ã§ã‚‚å‹ã®é•ã†ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¡ã†ã‚‹</li>
</ul>


<h3>Other storages</h3>

<ul>
<li>è¤‡æ•°ã® table ã® join ã‚„ è¤‡æ•°ã®ã‚«ãƒ©ãƒ ã«å¯¾ã™ã‚‹ä¸ç­‰å·æ¯”è¼ƒãªã©ã€ã™ã¹ã¦ã® SQL æ“ä½œãŒå¿…è¦ãªã‚‰ Google Cloud SQL</li>
<li>ACID transaction ã‚’å¿…è¦ã¨ã—ãªã„ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¹ãªãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãªã‚‰ Google Bigtable</li>
<li>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§åˆ†æã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãªã‚‰ Google BigQuery</li>
<li>ç”»åƒã‚„å‹•ç”»ãªã©ã®å¤‰æ›´ãŒãªã„å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãªã‚‰ Google Cloud Storage</li>
</ul>


<h2>Entities</h2>

<ul>
<li>ã²ã¨ã¤ã® entity ã¯1ã¤ä»¥ä¸Šã® property ã‚’ã‚‚ã¤</li>
<li>property ã¯1ã¤ä»¥ä¸Šã®å€¤ã‚’å–ã‚Šã†ã‚‹</li>
</ul>


<h2>Keys</h2>

<ul>
<li>key ã¯ entity ã‚’ç‰¹å®šã™ã‚‹</li>
<li>key ã¯ä»¥ä¸‹ã‚’å«ã‚€

<ul>
<li>entity ã® kind</li>
<li>ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®è­˜åˆ¥å­

<ul>
<li>æ–‡å­—åˆ—ã® key name</li>
<li>æ•°å€¤ã® ID</li>
</ul>
</li>
<li>ancestor path (optional)</li>
</ul>
</li>
<li>è­˜åˆ¥å­ã¯ entity ãŒç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è¨­å®šã•ã‚Œã‚‹</li>
<li>ä¸€åº¦è¨­å®šã•ã‚ŒãŸè­˜åˆ¥å­ã¯å¤‰æ›´ã•ã‚Œãªã„</li>
<li>è­˜åˆ¥å­ã¯ä»¥ä¸‹ã®2ã¤ã®æ–¹æ³•ã§è¨­å®šã§ãã‚‹

<ul>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ç‰¹å®šã® key name ã‚’è¨­å®šã™ã‚‹</li>
<li>Datastore ãŒè‡ªå‹•ã§ç™ºè¡Œã™ã‚‹æ•°å€¤ã® ID ã‚’ä½¿ã†</li>
</ul>
</li>
</ul>


<h2>Ancestor paths</h2>

<ul>
<li>Datastore ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ä¼¼ãŸéšå±¤æ§‹é€ ã‚’ã‚‚ã¤</li>
<li>entity ä½œæˆæ™‚ã« parent entity ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
<li>parent entity ãŒæŒ‡å®šã•ã‚Œãªã„ entity ã¯ root entity ã¨å‘¼ã¶</li>
<li>ä¸€åº¦è¦ªå­é–¢ä¿‚ãŒã§ããŸ entity ã¯ãã®é–¢ä¿‚ãŒå¤‰æ›´ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„</li>
<li>åŒã˜ parent ã‚’ã‚‚ã¤2ã¤ã® entity ã«å¯¾ã—ã¦ Datastore ã¯åŒä¸€ã® ID ã‚’æ‰•ã„å‡ºã™ã“ã¨ã¯ãªã„</li>
<li>åŒæ§˜ã«2ã¤ã® root entity ã«å¯¾ã—ã¦åŒä¸€ã® ID ã‚’æ‰•ã„å‡ºã™ã“ã¨ã‚‚ãªã„</li>
<li>parent ã‚„ parent ã®æ›´ã« parent ã‚’ ancestor ã¨å‘¼ã¶</li>
<li>é€†ã« children ã‚„ children ã®æ›´ã« children ã‚’ descendant ã¨å‘¼ã¶</li>
<li>root entity ã¨ãã® descendant ã¯åŒä¸€ã® entity group ã«å±ã™ã‚‹</li>
<li>ancestor path ã¯ root entity ã‹ã‚‰ãŸã©ã£ã¦è©²å½“ã® entity ã«åˆ°é”ã™ã‚‹ã¾ã§ã®è¦ªå­é–¢ä¿‚ã§æ§‹æˆã•ã‚Œã‚‹</li>
</ul>


<h2>Transactions and entity groups</h2>

<ul>
<li>entity ã«å¯¾ã™ã‚‹ create, update, delete ã¯ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§ç®¡ç†ã•ã‚Œã‚‹</li>
<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯ã“ã‚Œã‚‰ã®è¤‡æ•°ã®æ“ä½œãŒå†…åŒ…ã•ã‚Œã‚‹</li>
<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸€è²«æ€§ã®æ‹…ä¿ã®ãŸã‚ã€ãã“ã«å«ã¾ã‚Œã‚‹æ“ä½œã‚’ã²ã¨ã¾ã¨ã¾ã‚Šã¨ã—ã¦é©ç”¨ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã„ãšã‚Œã‹ã®æ“ä½œãŒå¤±æ•—ã™ã‚‹ã¨ã™ã¹ã¦ã®æ“ä½œã‚’é©ç”¨ã—ãªã„</li>
<li>commit ã‚’è©¦ã¿ã¦ã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ããŸã¨ã—ã¦ã‚‚ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒå¤±æ•—ã—ãŸã¨ã¯é™ã‚‰ãªã„

<ul>
<li><code>DatastoreTimeoutException</code> ã‚„ <code>DatastoreFailureException</code> ã¨ã„ã£ãŸã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ããŸã¨ã—ã¦ã‚‚ã€ commit ã¯æˆåŠŸã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹</li>
<li>ã“ã®ãŸã‚ã€ Datastore ã¯å¯èƒ½ãªé™ã‚ŠåŒä¸€ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°å›é©ç”¨ã—ã¦ã‚‚æœ€çµ‚çš„ãªçµæœãŒå¤‰ã‚ã‚‰ãªã„ã‚ˆã†ã«è¨­è¨ˆã™ã¹ãã§ã‚ã‚‹</li>
</ul>
</li>
<li>entity group ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é–¢ä¿‚

<ul>
<li>1ã¤ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§æ‰±ã†ãƒ‡ãƒ¼ã‚¿ã¯ 25 ã® entity group å†…ã«åã¾ã£ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„</li>
<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å†…ã§ã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã™ã‚‹å ´åˆã«ã¯æ­£ã—ã„ãƒ‡ãƒ¼ã‚¿ã«ãƒãƒƒãƒã™ã‚‹ ancestor filter ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã« entity group å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¨­è¨ˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
<li>åºƒåŸŸã«æ¸¡ã£ã¦å„ entity group ã‚’ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ãŸã‚ã«ã€1ã¤ã® entity group ã”ã¨ã«1ç§’ã‚ãŸã‚Šã®æ›¸ãè¾¼ã¿ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®ä¸Šé™å€¤ãŒå®šã‚ã‚‰ã‚Œã¦ã„ã‚‹</li>
</ul>
</li>
</ul>


<h2>Understanding write costs</h2>

<ul>
<li>ç™ºç”Ÿã™ã‚‹æ›¸ãè¾¼ã¿

<ul>
<li>entity è‡ªèº«</li>
<li><code>EntitiesByKind</code> ã¨ã„ã† index</li>
<li>1ã¤ã® property value ã”ã¨ã« <code>EntitiesByProperty</code> ã¨ <code>EntitiesByPropertyDesc</code> ã®å„ index</li>
</ul>
</li>
</ul>


<p>ä»¥ä¸‹ã®ã‚ˆã†ãª entity ã‚’è€ƒãˆã‚‹</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Key: 'Foo:1' (kind = 'Foo', id = 1, no parent)
</span><span class='line'>A: 1, 2
</span><span class='line'>B: null
</span><span class='line'>C: 'this', 'that', 'theOther'</span></code></pre></td></tr></table></div></figure>


<p>ã“ã®ã¨ãç™ºç”Ÿã™ã‚‹æ›¸ãè¾¼ã¿</p>

<ul>
<li>1: entity è‡ªèº«</li>
<li>1: <code>EntitiesByKind</code> index</li>
<li>4: A property ã®2ã¤ã®å€¤ã«ãã‚Œãã‚Œ2ã¤ã® index</li>
<li>2: B property ã®å€¤ã«2ã¤ã® index ï¼ˆnull ã§ã‚‚å¿…è¦ï¼‰</li>
<li>6: C property ã®3ã¤ã®å€¤ã«ãã‚Œãã‚Œ2ã¤ã® index</li>
</ul>


<p>ã‚ˆã£ã¦ç™ºç”Ÿã™ã‚‹æ›¸ãè¾¼ã¿ã®åˆè¨ˆã¯ 1 + 1 + 4 + 2 + 6 = 14</p>

<p>ä¸Šè¨˜ã® entity ã«è¤‡åˆ index ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Kind: 'Foo'
</span><span class='line'>A â–², B â–¼, C â–¼</span></code></pre></td></tr></table></div></figure>


<p>ã“ã®ã¨ãã€å„ property ã®å€¤ã®çµ„ã¿åˆã‚ã›åˆ†ã®æ›¸ãè¾¼ã¿ãŒç™ºç”Ÿã™ã‚‹</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(1, null, 'this') (1, null, 'that') (1, null, 'theOther')
</span><span class='line'>(2, null, 'this') (2, null, 'that') (2, null, 'theOther')</span></code></pre></td></tr></table></div></figure>


<p>ã—ãŸãŒã£ã¦ç™ºç”Ÿã™ã‚‹æ›¸ãè¾¼ã¿ã®åˆè¨ˆã¯ 1 + 1 + 4 + 2 + 6 + 6 = 20</p>

<p>æ¬¡ã«ã“ã‚Œã¾ã§ã¨åŒæ§˜ã« ancestor ãŒå­˜åœ¨ã™ã‚‹ä»¥ä¸‹ã®ã‚ˆã†ãª entity ã‚’è€ƒãˆã‚‹</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Key: 'GreatGrandpa:1/Grandpa:1/Dad:1/Foo:1' (kind = 'Foo', id = 1, parent = 'GreatGrandpa:1/Grandpa:1/Dad:1')
</span><span class='line'>A: 1, 2
</span><span class='line'>B: null
</span><span class='line'>C: 'this', 'that', 'theOther'</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Kind: 'Foo'
</span><span class='line'>A â–², B â–¼, C â–¼
</span><span class='line'>Ancestor: True</span></code></pre></td></tr></table></div></figure>


<p>ã“ã®ã¨ãå„ property ã®å€¤ã¨å„ ancestor åŠã³è‡ªèº«ã® entity ã®çµ„ã¿åˆã‚ã›åˆ†ã®æ›¸ãè¾¼ã¿ã‚’å¿…è¦ã¨ã™ã‚‹</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(1, null, 'this', 'GreatGrandpa') (1, null, 'this', 'Grandpa') (1, null, 'this', 'Dad') (1, null, 'this', 'Foo')
</span><span class='line'>(1, null, 'that', 'GreatGrandpa') (1, null, 'that', 'Grandpa') (1, null, 'that', 'Dad') (1, null, 'that', 'Foo')
</span><span class='line'>(1, null, 'theOther', 'GreatGrandpa') (1, null, 'theOther', 'Grandpa') (1, null, 'theOther', 'Dad') (1, null, 'theOther', 'Foo')
</span><span class='line'>(2, null, 'this', 'GreatGrandpa') (2, null, 'this', 'Grandpa') (2, null, 'this', 'Dad') (2, null, 'this', 'Foo')
</span><span class='line'>(2, null, 'that', 'GreatGrandpa') (2, null, 'that', 'Grandpa') (2, null, 'that', 'Dad') (2, null, 'that', 'Foo')
</span><span class='line'>(2, null, 'theOther', 'GreatGrandpa') (2, null, 'theOther', 'Grandpa') (2, null, 'theOther', 'Dad') (2, null, 'theOther', 'Foo')</span></code></pre></td></tr></table></div></figure>


<p>ã—ãŸãŒã£ã¦ç™ºç”Ÿã™ã‚‹æ›¸ãè¾¼ã¿ã®åˆè¨ˆã¯ 1 + 1 + 4 + 2 + 6 + 24 = 38</p>

<h2>å‚ç…§</h2>

<ul>
<li><a href="https://cloud.google.com/appengine/docs/java/datastore/">Cloud Datastore Overview</a></li>
<li><a href="https://cloud.google.com/appengine/docs/java/datastore/entities">Entities, Properties, and Keys</a></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>A little something about me.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/10/01/install-node-js-and-npm/">Node.jsã¨npmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/25/value-object-and-collection-object/">å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/06/19/wordpress-on-gae/">WordPress on GAE</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/06/18/unix-time-handling/">Unix timeã®æ‰±ã„</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/06/17/copy-output-to-clipboard/">ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç›´æ¥ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«å‡ºåŠ›ã™ã‚‹</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Sojiro -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sojirosblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
