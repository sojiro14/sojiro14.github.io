
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blog.sojiro.me/blog/category/java/">
      
      
        <link rel="prev" href="../json-schema/">
      
      
        <link rel="next" href="../linux/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Java - Sojiro's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-ECN7E21ZM0"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-ECN7E21ZM0",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-ECN7E21ZM0",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Java - Sojiro's Blog" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://blog.sojiro.me/assets/images/social/blog/category/java.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://blog.sojiro.me/blog/category/java/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Java - Sojiro's Blog" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://blog.sojiro.me/assets/images/social/blog/category/java.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#java" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../.." title="Sojiro&#39;s Blog" class="md-header__button md-logo" aria-label="Sojiro's Blog" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sojiro's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Java
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Sojiro&#39;s Blog" class="md-nav__button md-logo" aria-label="Sojiro's Blog" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    Sojiro's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recent Posts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2022
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2017/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2017
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2016/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2016
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2015/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2015
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2014/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2014
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../anaconda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Anaconda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../android-studio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Android Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../bigquery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BigQuery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../bower/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bower
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../cpan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CPAN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../canvas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Canvas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../chef/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chef
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../datastore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datastore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../disqus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Disqus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../domain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../erc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ERC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ethereum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ethereum
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gae/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GAE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GCE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gcs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GCS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../github-pages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Github Pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../grunt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grunt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../html5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTML5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../heroku/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Heroku
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../homebrew/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Homebrew
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../hubot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hubot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../irc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IRC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../json-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSON Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../liveportrait/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LivePortrait
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../mean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MEAN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../mongodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../mysql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../nft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NFT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../nodejs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node.js
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../oop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OOP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../octopress/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Octopress
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../perl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Perl
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../repl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../rvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RVM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../reply/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reply
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ruby/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ruby
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ruby-on-rails/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ruby on Rails
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../slack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../task-queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Task Queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../vagrant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vagrant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../vuepress/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VuePress
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../webrtc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebRTC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../wordpress/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WordPress
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../yeoman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Yeoman
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../npm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    npm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../revealjs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    reveal.js
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    screen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../yo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    yo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Paper Summaries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Paper Summaries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recent Posts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2022/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2022
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2021/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2020/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2020
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2019/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2019
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2018/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2018
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2017/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2017
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2016/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2016
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2015/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2015
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/2014/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2014
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/archive/1972/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1972
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/artificial-intelligence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Artificial Intelligence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/audio-and-speech-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audio and Speech Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/call-center/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Call Center
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/computation-and-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computation and Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/computer-science/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/computer-vision-and-pattern-recognition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Vision and Pattern Recognition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/digital-libraries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Libraries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/electrical-engineering-and-systems-science/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Electrical Engineering and Systems Science
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/emergence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emergence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/information-retrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Information Retrieval
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/machine-learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/reductionism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reductionism
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/sound/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sound
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/speech-to-text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Speech to text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/synthetic-biology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Biology
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E3%82%B5%E3%83%83%E3%82%AB%E3%83%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    サッカー
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E3%82%B7%E3%83%9F%E3%83%A5%E3%83%BC%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%87%E3%83%BC%E3%82%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    シミューレーションデータ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    スポーツ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E3%83%9E%E3%83%AB%E3%83%81%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    マルチエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E5%9F%BA%E7%9B%A4%E3%83%A2%E3%83%87%E3%83%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基盤モデル
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E5%BB%BA%E7%AF%89%E7%9A%84%E6%BD%9C%E5%9C%A8%E4%BE%A1%E5%80%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    建築的潜在価値
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E5%BC%B7%E5%8C%96%E5%AD%A6%E7%BF%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    強化学習
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    機械学習
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E6%B7%B1%E5%B1%A4%E5%AD%A6%E7%BF%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    深層学習
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E7%A4%BE%E4%BC%9A%E7%9A%84%E4%BE%A1%E5%80%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    社会的価値
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E8%A8%80%E8%AA%9E%E3%83%A2%E3%83%87%E3%83%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    言語モデル
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../summaries/category/%E9%AB%98%E7%B5%8C%E5%B9%B4%E8%B3%83%E8%B2%B8%E3%83%9E%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%B3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高経年賃貸マンション
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="java">Java</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2017-08-25 00:00:00+00:00">2017年8月25日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../oop/" class="md-meta__link">OOP</a>, 
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="_1"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/">値オブジェクトとコレクションオブジェクト</a></h2>
<p>某先輩の書評を読んで気になったので 『<a href="http://amzn.to/2vpxmgg">現場で役立つシステム設計の原則</a>』 という本を読んだ。</p>
<p>とあるプロジェクトでその先輩に自分の書くコードについて色々ご指摘をいただいていたタイミングであり、自分としてはかなり参考になった点があるので備忘も兼ねて書いてみる。</p>
<p>今回は特に「値オブジェクト」と「コレクションオブジェクト（ファーストクラスコレクション）」について。</p>
<h3 id="_2"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_2">値オブジェクト</a></h3>
<p>値オブジェクトはアプリケーションに登場する様々な値に対してその値を扱うための専用クラスを作るという考え方。</p>
<h4 id="_3"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_3">値ごとにクラスを定義する</a></h4>
<p>値オブジェクトの考え方をルール化すると、「プリミティブ型や <code>String</code> 型は使わない」という方針となる。</p>
<p>例えば、先述のプロジェクトのコードでは登場する様々な値を <code>String</code> 型で表現していた。</p>
<ul>
<li><code>userId</code></li>
<li><code>nickname</code></li>
<li><code>address</code></li>
<li>etc...</li>
</ul>
<p>これらはサーバーリクエストの口でバリデーションを通るものの、その後の値がアプリケーションコード内で保証されないため非常に不安定だった。</p>
<p>また、例えば <code>nickname</code> と <code>address</code> を引数として受け付けるメソッドがあったとすると</p>
<pre><code class="language-java">public User hoge(String nickname, String address) {
    ...
}
</code></pre>
<p>となるわけだが、この時このメソッドを使う側で間違えて <code>address</code>, <code>nickname</code> の順で引数を指定したとしてもこのメソッドはその引数を受け付けてしまう。</p>
<p>そこで <code>Nickname</code> クラスと <code>Address</code> クラスを定義するというのが値オブジェクトの考え方だ。</p>
<pre><code class="language-java">class Nickname {
    static final int MIN_LENGTH = 1;
    static final int MAX_LENGTH = 20;

    String nickname;

    Nickname(String nickname) {
        if (nickname.length() &lt; MIN_LENGTH) {
            throw new IllegalArgumentException(&quot;nickname length must be at least&quot; + MIN_LENGTH);
        }
        if (nickname.length() &gt; MAX_LENGTH) {
          throw new IllegalArgumentException(&quot;nickname length must be under&quot; + MAX_LENGTH);
        }
        this.nickname = nickname;
    }
}
</code></pre>
<p><code>address</code> に対しても同様にクラスを定義して先ほどのメソッドを</p>
<pre><code class="language-java">public User hoge(Nickname nickname, Address address) {
    ...
}
</code></pre>
<p>とすればより堅い実装となる。</p>
<h4 id="_4"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_4">値オブジェクトを不変とする</a></h4>
<p>値オブジェクトの値は上書きしないというのも値オブジェクトを扱う上で重要な考え方で、これをルール化すると、「値を変更する度にオブジェクトそのものを新しく（別のオブジェクトに）する」ということになる。</p>
<pre><code class="language-java">Nickname nickname = new Nickname(&quot;sojiro&quot;);
nickname.setNickname(&quot;shin-sojiro&quot;);
</code></pre>
<p>ではなく</p>
<pre><code class="language-java">Nickname nickname = new Nickname(&quot;sojiro&quot;);
Nickname updatedNickname = nickname.update(&quot;shin-sojiro&quot;);
</code></pre>
<p>とすることで、各オブジェクトがどの値をもっているのかが明確となり、知らないうちに値が変わっている、ということを防ぐことができる。</p>
<h3 id="_5"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_5">コレクションオブジェクト（ファーストクラスコレクション）</a></h3>
<p>値オブジェクトの考え方を発展させ、コレクション型のデータとロジックを独自のクラスに切り出す考え方をコレクションオブジェクト、もしくはファーストクラスコレクションという。</p>
<pre><code class="language-java">List&lt;User&gt; users = new ArrayList&lt;&gt;();
users.add(user);
</code></pre>
<p>のように扱っていた <code>User</code> のコレクションを、 <code>Users</code> というクラスを定義し、そのクラスで操作が完結するようにする。</p>
<pre><code class="language-java">class Users {
    List&lt;User&gt; users;

    Users(List&lt;User&gt; users) {
        this.users = users;
    }

    Users add(User user) {
        List&lt;User&gt; userList = new ArrayList&lt;&gt;(users);
        return new Users(userList.add(user));
    }

    List&lt;User&gt; asList() {
        return Collections.unmodifiableList(users);
    }
}
</code></pre>
<p>ここでのポイントは、</p>
<ul>
<li>値オブジェクトで値に変更がある場合は常に新しいオブジェクトを返したように、コレクションオブジェクトでもコレクションに変更がある場合は新たなオブジェクトを返すようにすること</li>
<li>コレクションへの参照を返す場合はなるべく変更できない状態にして返すこと</li>
</ul>
<p>コレクションへの操作を独自クラスに閉じ込め、同一オブジェクトが持つコレクションの内容が変化することのないようにすることでより堅い実装とすることができる。</p>
<h3 id="_6"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_6">感想</a></h3>
<p>Perl からプログラミングを始めたこともあってか（言い訳）、オブジェクト指向と言っても型への意識は低く、如何にコンパイル時点でバグを見つけられる堅い実装とするか、その変数に今どのような値が入っているかをコードの書き方で明確にするか、というような意識も低かった。</p>
<p><a href="http://amzn.to/2vpxmgg">現場で役立つシステム設計の原則</a> からは他にも学んだ点が多いので追って記事にできたらと思う。</p>
<h3 id="_7"><a class="toclink" href="../../2017/08/25/value-object-and-collection-object/#_7">参照</a></h3>
<p><a href="http://amzn.to/2vpxmgg">現場で役立つシステム設計の原則</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2017-06-16 00:00:00+00:00">2017年6月16日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../gae/" class="md-meta__link">GAE</a>, 
              <a href="../android-studio/" class="md-meta__link">Android Studio</a>, 
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="could-not-open-the-requested-socket"><a class="toclink" href="../../2017/06/16/could-not-open-the-requested-socket-on-android-studio/">Could not open the requested socket エラーが出たら</a></h2>
<p>Android Studio で GAE に乗せるアプリを開発しているとき、ローカルで立ち上げようとすると以下のようなエラーが出た</p>
<pre><code>Could not open the requested socket: Address already in use
Try overriding --address and/or --port.
</code></pre>
<p>どうやら以前立ち上げた際のプロセスが生き残っていて邪魔しているらしい</p>
<h4 id="_1"><a class="toclink" href="../../2017/06/16/could-not-open-the-requested-socket-on-android-studio/#_1">以下のように対応した</a></h4>
<p>Android Studio のメニューから <code>Run</code> → <code>Edit Configurations...</code> とたどり、対象 module が使っている port を確認</p>
<p>ポートを指定してプロセスを確認、そして <code>kill</code></p>
<pre><code class="language-bash">$ lsof -i:8080
COMMAND   PID    USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
java    74792  sojiro   48u  IPv6 0xXXXXXXXXXXXXXXXX      0t0  TCP *:http-alt (LISTEN)
</code></pre>
<pre><code class="language-bash">$ kill -9 74792
</code></pre>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-08-31 00:00:00+00:00">2016年8月31日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-10-java"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/">パーフェクトJava読書メモ chapter 10 Javaプログラムの実行と制御構文</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#_1">条件分岐</a></h3>
<h4 id="if-else"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#if-else">if-else文</a></h4>
<p>インデントの取り方に関係なく <code>else</code> は最も近い（直近の） <code>if</code> にかかる</p>
<h4 id="switch-case"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#switch-case">switch-case文</a></h4>
<pre><code class="language-java">switch(式) {
case 定数1:
    0個以上の文
case 定数N:
    0個以上の文
default:
    0個以上の文
}
</code></pre>
<p>式の評価値は以下</p>
<ul>
<li>int 型</li>
<li>int 型に暗黙に型変換される型<ul>
<li>char</li>
<li>byte</li>
<li>short</li>
</ul>
</li>
<li>数値ラッパークラス<ul>
<li>Integer</li>
<li>Character   </li>
<li>Byte</li>
<li>Short</li>
</ul>
</li>
<li>enum 型</li>
<li>String 型</li>
</ul>
<p>式が <code>null</code> になると <code>NullPointerException</code> が発生する</p>
<p><code>break;</code> 文がない限り処理を続ける</p>
<pre><code class="language-java">int i = 0;
switch (i) {
    case 0:
        System.out.println(0);
    case 1:
        System.out.println(1);
    default:
        System.out.println(&quot;default&quot;);
}
</code></pre>
<pre><code class="language-java">0
1
default
</code></pre>
<h3 id="_2"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#_2">繰り返し</a></h3>
<h4 id="for"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#for">for文</a></h4>
<pre><code class="language-java">for (初期化式; 条件式; 更新式) {
    文
}
</code></pre>
<p>条件式は評価値が <code>boolean</code> もしくは <code>Boolean</code></p>
<p>初期化式と更新式は複数の式を <code>,</code> で区切って書ける</p>
<pre><code class="language-java">for (int i = 0, j = 0; (i &lt; 10 &amp;&amp; j &lt; 10); i++, j++) {
}
</code></pre>
<p>異なる型の宣言と初期化を並べるとエラー</p>
<pre><code class="language-java">for (int i = 0, byte j = 0; (i &lt; 10 &amp;&amp; j &lt; 10); i++, j++) {
}
</code></pre>
<p>for文の外に出して回避</p>
<pre><code class="language-java">int i;
byte j;
for (i = 0, j = 0; (i &lt; 10 &amp;&amp; j &lt; 10); i++, j++) {
}
</code></pre>
<h3 id="_3"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#_3">ジャンプ</a></h3>
<h4 id="break"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#break">break文</a></h4>
<ul>
<li>ループを抜ける</li>
<li>ループがネストしている場合、抜けるのは内側のループのみ</li>
</ul>
<h4 id="continue"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#continue">continue文</a></h4>
<ul>
<li>ループ内の文をスキップしてループの条件式の評価に戻る</li>
</ul>
<h4 id="_4"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#_4">ラベル</a></h4>
<ul>
<li>繰り返しにラベルをつける</li>
<li>break文、continue文にラベルを渡すことでどの繰り返しを対象にするか定める</li>
</ul>
<pre><code class="language-java">target_loop:
while (true) {
    while (true) {
        break target_loop;
    }
}
</code></pre>
<ul>
<li>外側の while ループに <code>target_loop</code> というラベルがつく</li>
<li><code>break target_loop</code> で外側の while ループを抜ける</li>
<li>（ <code>continue</code> の場合は対象のループ内の文をスキップして条件式の評価に戻る）</li>
</ul>
<h3 id="_5"><a class="toclink" href="../../2016/08/31/study-of-perfect-java-chapter-10/#_5">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-08-24 00:00:00+00:00">2016年8月24日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-9"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/">パーフェクトJava読書メモ chapter 9 文、式、演算子</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="java"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#java">Java の文法と文</a></h3>
<p>Java で扱う文は以下の4種類</p>
<ul>
<li>制御文</li>
<li>ブロック文</li>
<li>宣言文</li>
<li>式文</li>
</ul>
<p>宣言文と式文は終端にセミコロン必要</p>
<h3 id="java_1"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#java_1">Java の演算子と式</a></h3>
<ul>
<li><code>&amp;&amp;</code> 、 <code>||</code> 、 <code>?</code> <code>:</code> （三項演算子）を除くすべての演算子は演算前にすべてのオペランドを評価する</li>
<li>オペランドは左のものから評価する</li>
<li>メソッド及びコンストラクタ呼び出し式では引数を左から評価する</li>
</ul>
<h3 id="_1"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_1">数値の演算</a></h3>
<h4 id="_2"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_2">インクリメント/デクリメント演算の前置後置</a></h4>
<p>前置演算は評価値が演算後の値、後置演算は評価値が演算前の値</p>
<pre><code class="language-java">int n = 10;
int m = ++n;
// m: 11, n: 11
int n = 10;
int m = n++;
// m: 10, n: 11
</code></pre>
<pre><code class="language-java">int n = 0;
while (++n &lt; 10) {
    // ループが回る回数は 9 回
}
</code></pre>
<h3 id="_3"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_3">論理演算</a></h3>
<h4 id="_4"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_4">遅延評価</a></h4>
<p><code>&amp;&amp;</code> 、<code>||</code> は遅延評価を行う</p>
<ul>
<li><code>&amp;&amp;</code> は左辺の評価値が偽であれば右辺の評価値に関係なく結果が偽になるため右辺を評価しない</li>
<li><code>||</code> は左辺の評価値が真であれば右辺の評価値に関係なく結果が真になるため右辺の評価をしない</li>
</ul>
<p>これらの演算子の右辺に副作用のある式を書くと、左辺の評価値により実行さるか否かが変わってくるので注意</p>
<h3 id="_5"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_5">その他の演算</a></h3>
<h4 id="instanceof"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#instanceof">instanceof 演算子</a></h4>
<p>ダウンキャストを安全に行えるかを事前にチェックする</p>
<h3 id="_6"><a class="toclink" href="../../2016/08/24/study-of-perfect-java-chapter-9/#_6">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-24 00:00:00+00:00">2016年7月24日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-7"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/">パーフェクトJava読書メモ chapter 7 インターフェース</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_1">クラスとインターフェースの違い</a></h3>
<ul>
<li>インターフェースは雛形としての役割を持たない</li>
<li>インターフェースは実体化できず、型定義に特化している</li>
<li>インターフェースの継承の目的は多様性のみ（クラスの拡張継承には実装コードの共有という側面もある）</li>
</ul>
<h3 id="_2"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_2">インターフェース宣言</a></h3>
<pre><code class="language-java">[修飾子] interface インターフェース名 {
    メンバ宣言
}
</code></pre>
<h4 id="_3"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_3">インターフェースの修飾子</a></h4>
<table>
<thead>
<tr>
<th>modifier</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>グローバルにアクセス可（書かないとパッケージ内に限定）</td>
</tr>
<tr>
<td><code>abstract</code></td>
<td>インターフェースは暗黙的に abstract なので書かなくても同じ</td>
</tr>
<tr>
<td><code>strictfp</code></td>
<td>インターフェース内に記述した浮動小数点演算を厳密に評価</td>
</tr>
<tr>
<td>アノテーション</td>
<td>省略</td>
</tr>
</tbody>
</table>
<h4 id="_4"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_4">インターフェースのメンバ</a></h4>
<ul>
<li>抽象メソッド（実装なし）</li>
<li>default メソッド</li>
<li>static メソッド</li>
<li>定数フィールド</li>
<li>static なネストしたクラス</li>
<li>static なネストしたインターフェース</li>
</ul>
<h4 id="_5"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_5">メソッド宣言</a></h4>
<table>
<thead>
<tr>
<th>modifier</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>暗黙的に public なので書かなくても同じ</td>
</tr>
<tr>
<td><code>default</code></td>
<td>デフォルトメソッド</td>
</tr>
<tr>
<td><code>static</code></td>
<td>static メソッド</td>
</tr>
<tr>
<td><code>abstract</code></td>
<td>暗黙的に abstract なので書かなくても同じ</td>
</tr>
</tbody>
</table>
<ul>
<li><code>default</code> メソッドはインスタンスメソッド</li>
<li>インターフェースを継承した具象クラスのインスタンスメソッドになる</li>
<li>フィールド変数は暗黙的に <code>public</code> <code>static</code> <code>final</code></li>
</ul>
<h3 id="_6"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_6">インターフェースと実装クラス</a></h3>
<h4 id="_7"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_7">インターフェース継承</a></h4>
<pre><code class="language-java">[修飾子] class クラス名 implements インターフェース名 {
    クラス本体
}
</code></pre>
<p>複数のインターフェースを同時に継承することができる</p>
<pre><code class="language-java">[修飾子] class クラス名 implements インターフェース名, インターフェース名 {
    クラス本体
}
</code></pre>
<ul>
<li>クラスの拡張継承とインターフェースの継承を同時にできる</li>
<li>このとき <code>implements</code> は <code>extends</code> より後に書く</li>
</ul>
<pre><code class="language-java">[修飾子] class クラス名 extends 親クラス名 implements インターフェース名 {
    クラス本体
}
</code></pre>
<ul>
<li>インターフェースを継承したクラスはインターフェースの抽象メソッドをすべてオーバーライドする必要がある</li>
<li>インターフェースから継承したメソッドのアクセス制御は <code>public</code> 修飾子がないとコンパイルエラー</li>
<li>メソッドのオーバーライドはクラスの拡張継承と同様に行う</li>
</ul>
<h4 id="_8"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_8">ネストしたインターフェース</a></h4>
<ul>
<li>クラス内のネストしたインターフェース<ul>
<li><code>public</code> <code>protected</code> 無指定 <code>private</code> のいずれかを指定する</li>
</ul>
</li>
<li>インターフェース内のネストしたインターフェース<ul>
<li>常に <code>public</code></li>
</ul>
</li>
<li>インターフェース内のネストしたクラス<ul>
<li>常に <code>public</code> かつ <code>static</code></li>
</ul>
</li>
<li>ネストして宣言されたインターフェースは常に <code>static</code></li>
</ul>
<h4 id="_9"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_9">インターフェース自体の拡張継承</a></h4>
<ul>
<li>インターフェースも拡張継承できる</li>
<li>インターフェースは複数の親インターフェースを指定可能</li>
</ul>
<pre><code class="language-java">interface Parent {
    void print();
}

interface Child extends Parent {
    // void print() を継承
}

interface Father {
    void print();
}

interface Mother {
    void exec();
}

interface Child2 extends Father, Mother {
    // void print(), void exec() を継承
}
</code></pre>
<h3 id="_10"><a class="toclink" href="../../2016/07/24/study-of-perfect-java-chapter-7/#_10">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-21 00:00:00+00:00">2016年7月21日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約2分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-6"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/">パーフェクトJava読書メモ chapter 6 コレクションと配列</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_1">コレクションフレームワーク</a></h3>
<table>
<thead>
<tr>
<th>-----</th>
<th>Hash Table</th>
<th>Array</th>
<th>Tree</th>
<th>Linked List</th>
<th>Hash Table + Linked List</th>
</tr>
</thead>
<tbody>
<tr>
<td>set</td>
<td>HashSet</td>
<td>---</td>
<td>TreeSet</td>
<td>---</td>
<td>LinkedHashSet</td>
</tr>
<tr>
<td>list</td>
<td>---</td>
<td>ArrayList</td>
<td>---</td>
<td>LinkedList</td>
<td>---</td>
</tr>
<tr>
<td>deque</td>
<td>---</td>
<td>ArrayDeque</td>
<td>---</td>
<td>LinkedList</td>
<td>---</td>
</tr>
<tr>
<td>map</td>
<td>HashMap</td>
<td>---</td>
<td>TreeMap</td>
<td>---</td>
<td>LinkedHashMap</td>
</tr>
</tbody>
</table>
<h4 id="_2"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_2">コレクション型オブジェクトの生成</a></h4>
<pre><code class="language-java">コレクションのインターフェース型&lt;要素の型&gt; 変数 = new コレクションのインターフェースを実装した具象クラス&lt;&gt;([コンストラクタの引数]);
</code></pre>
<pre><code class="language-java">List&lt;String&gt; list = new ArrayList&lt;&gt;();
</code></pre>
<ul>
<li>上記例で <code>ArrayList&lt;&gt;</code> は <code>ArrayList&lt;String&gt;</code> の略</li>
</ul>
<pre><code class="language-java">List&lt;int&gt; list = new ArrayList&lt;&gt;();
</code></pre>
<ul>
<li>要素の型に基本型は指定できない</li>
</ul>
<h3 id="_3"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_3">リスト</a></h3>
<h4 id="_4"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_4">リストの具象クラス</a></h4>
<ul>
<li>ArrayList</li>
<li>LinkedList</li>
</ul>
<h4 id="arraylist"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#arraylist">ArrayList</a></h4>
<ul>
<li>良い点<ul>
<li>インデックスを指定して要素を読み出す速度が速い[get]</li>
<li>インデックスを指定して要素を書き換える速度が速い[set]</li>
<li>先頭から順にすべての要素をなめる処理が速い</li>
</ul>
</li>
<li>悪い点<ul>
<li>要素の挿入が遅いことがある[add]<ul>
<li>先頭に近い位置への挿入は遅い</li>
<li>末尾に近い位置への挿入は速いときもあるが遅いときもある</li>
</ul>
</li>
<li>要素の削除が遅いことがある[remove]<ul>
<li>先頭に近い位置の削除ほど遅い</li>
<li>末尾に近い位置の削除ほど速い</li>
<li>最末尾の削除は高速</li>
</ul>
</li>
<li>条件に合致した要素の検索があまり速くない[contains, indexOf, lastIndexOf]</li>
</ul>
</li>
<li>要素の順序をもつので、順序が入れ替わる要素が多くなる処理は遅い</li>
<li>連続したメモリの確保ができない場合、末尾への挿入は遅くなる</li>
</ul>
<h4 id="linkedlist"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#linkedlist">LinkedList</a></h4>
<ul>
<li>良い点<ul>
<li>要素の挿入が速い[add]</li>
<li>要素の削除が速い[remove]</li>
</ul>
</li>
<li>悪い点<ul>
<li>インデックスを指定して要素を読み出す速度はあまり速くない[get]</li>
<li>インデックスを指定して要素を書き換える速度はあまり速くない[set]</li>
<li>条件に合致した要素を検索する処理の速度はあまり速くない[contains, indexOf, lastIndexOf]</li>
</ul>
</li>
<li>要素にたどり着くまでリンクをたどるのでリストの真ん中に近い要素ほどアクセスに時間がかかる</li>
</ul>
<h3 id="_5"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_5">マップ</a></h3>
<pre><code class="language-java">Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
Map&lt;Integer, List&lt;String&gt;&gt; map = new TreeMap&lt;&gt;();
</code></pre>
<ul>
<li>Map インターフェースはキーと値の両方の型を <code>&lt;&gt;</code> の中に指定する</li>
<li>List インターフェース同様 <code>&lt;&gt;</code> に指定できるのは参照型のみ</li>
</ul>
<h4 id="_6"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_6">マップの具象クラス</a></h4>
<ul>
<li>HashMap</li>
<li>LinkedHashMap</li>
<li>TreeMap</li>
</ul>
<h4 id="hashmap"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#hashmap">HashMap</a></h4>
<h5 id="hashmap_1"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#hashmap_1">HashMapの内部動作</a></h5>
<ul>
<li>HashMap は内部に配列を確保する。これをハッシュ表と呼ぶ。</li>
<li>ハッシュ表の初期サイズは HashMap のコンストラクタで指定する。</li>
<li>キーと値のペアを HashMap に追加[put]すると HashMap は内部でキーをハッシュ関数に通す。</li>
<li>ハッシュ関数の出力がハッシュ表のインデックスになる。</li>
<li>得られたインデックスの要素としてキーと値のペアを格納する。</li>
</ul>
<h4 id="linkedhashmap"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#linkedhashmap">LinkedHashMap</a></h4>
<h5 id="linkedhashmap_1"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#linkedhashmap_1">LinkedHashMapの内部動作</a></h5>
<ul>
<li>HashMap を拡張継承している</li>
<li>ハッシュ表に加えて、 LinkedList と同じリンクリストを内部に保持する</li>
<li>要素を追加すると内部でハッシュ表とリンクリストの両方に要素を追加する</li>
</ul>
<pre><code class="language-java">LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder)
</code></pre>
<ul>
<li>上記コンストラクタの <code>accessOrder</code> に <code>true</code> を指定するとリンクリストの順序が要素にアクセスした順になる</li>
</ul>
<h4 id="treemap"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#treemap">TreeMap</a></h4>
<p>二分探索木の一種である赤黒木と呼ばれるアルゴリズムによるツリー構造で要素をもつ</p>
<h5 id="navigablemap"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#navigablemap">NavigableMap</a></h5>
<p>TreeMap がキーの順序をもつことを利用したインターフェース</p>
<pre><code class="language-java">public class Sample {
    public static void main(String... args) {
        NavigableMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();
        map.put(&quot;kanayama&quot;, &quot;one&quot;);
        map.put(&quot;kawai&quot;, &quot;four&quot;);
        map.put(&quot;kushibiki&quot;, &quot;five&quot;);

        Map.Entry&lt;String, String&gt; entry = map.ceilingEntry(&quot;kana&quot;);
        if (entry != null) {
            entry.getKey() + &quot;: &quot; + entry.getValue();  // &quot;kanayama: one&quot;
        }
    }
}
</code></pre>
<h3 id="_7"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_7">セット</a></h3>
<ul>
<li>セットは数学の集合の概念</li>
<li>要素の重複を許さない</li>
<li>Set インターフェースを実装した具象クラスは以下の3つ<ul>
<li>HashSet</li>
<li>LinkedHashSet</li>
<li>TreeSet</li>
</ul>
</li>
<li>要素の重複を許さない点が Map のキーの性質と重なるため、具象クラスも Map と重なる</li>
</ul>
<h3 id="_8"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_8">スタック、キュー、デック</a></h3>
<ul>
<li>スタック: 最新要素から常に取り出し</li>
<li>キュー: 最古要素から常に取り出し</li>
<li>デック: 上記どちらにも対応</li>
<li>スタック構造は Deque クラス（Stack クラスは古い）</li>
<li>キュー構造は Queue クラス</li>
</ul>
<h3 id="_9"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_9">イテレータ</a></h3>
<h4 id="for"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#for">拡張for構文</a></h4>
<pre><code class="language-java">for (要素型 ループ変数 : コレクション変数) {
    forループが回るたびにループ変数が要素オブジェクトを順に参照
}
</code></pre>
<h4 id="_10"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_10">イテレータ</a></h4>
<ul>
<li>イテレーションを抽象化したオブジェクト</li>
<li>Iterator インターフェースは以下のメソッドをもつ<ul>
<li><code>boolean</code> <code>hasNext();</code></li>
<li><code>E</code> <code>next();</code></li>
<li><code>void</code> <code>remove();</code></li>
</ul>
</li>
<li>ListIterator インターフェースは Iterator を継承している</li>
<li>ListIterator は上記に加えて以下の以下のメソッドをもつ<ul>
<li><code>boolean</code> <code>hasPrevious();</code></li>
<li><code>E</code> <code>previous();</code></li>
</ul>
</li>
</ul>
<h4 id="_11"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_11">例</a></h4>
<p>セットに対するイテレーション</p>
<pre><code class="language-java">// Set&lt;Integer&gt; set
for (Integer n : set) {
    sum += n;
}

for (Iterator&lt;Integer&gt; it = set.iterator(); it.hasNext(); ) {
    Integer n = it.next();
    sum += n;
}
</code></pre>
<p>マップに対するイテレーション</p>
<pre><code class="language-java">// Map&lt;String, String&gt; map

// 拡張 for でキーを繰り返す
for (String key : map.keySet()) {
    System.out.println(key);
}

// イテレータで値を繰り返す
for (Iterator&lt;String&gt; it = map.values().iterator(); it.hasNext(); ) {
    String val = it.next();
    System.out.println(val);
}

// 拡張 for でキーと値を繰り返す
for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {
    System.out.println(entry.getKey());
    System.out.println(entry.getValue());
}
</code></pre>
<p>リストを逆順になめる</p>
<pre><code class="language-java">// List&lt;Integer&gt; list
for (ListIterator&lt;Integer&gt; it = list.listIterator(list.size()); it.hasPrevious(); ) {
    Integer i = it.previous();
    System.out.println(i);
}
</code></pre>
<h3 id="_12"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_12">配列</a></h3>
<pre><code class="language-java">int[] arr = new int[3];

int[] arr = { 0, 1, 2 };
</code></pre>
<h4 id="_13"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_13">多次元配列の初期化</a></h4>
<pre><code class="language-java">StringBuilder[][][] arr = {
    {
        { new StringBuilder(&quot;000&quot;), new StringBuilder(&quot;001&quot;) },
        { new StringBuilder(&quot;010&quot;), new StringBuilder(&quot;011&quot;) },
    },
    {
        { new StringBuilder(&quot;100&quot;), new StringBuilder(&quot;101&quot;) },
        { new StringBuilder(&quot;110&quot;), new StringBuilder(&quot;111&quot;) },
    },
};
</code></pre>
<h3 id="_14"><a class="toclink" href="../../2016/07/21/study-of-perfect-java-chapter-6/#_14">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-20 00:00:00+00:00">2016年7月20日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約3分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-5"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/">パーフェクトJava読書メモ chapter 5 クラス</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_1">オブジェクトの生成</a></h3>
<p>Javaのオブジェクト生成方法は以下の5つ</p>
<table>
<thead>
<tr>
<th>procedure</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>new</code> 式</td>
<td>基本的な生成手段</td>
</tr>
<tr>
<td><code>String</code> リテラル及び結合演算式</td>
<td>文字列固有の手段</td>
</tr>
<tr>
<td>オートボクシング</td>
<td>数値クラス固有の手段</td>
</tr>
<tr>
<td>リフレクション</td>
<td>フレームワークなどが下位に隠蔽すべき手段</td>
</tr>
<tr>
<td><code>clone</code> メソッド</td>
<td><code>Object</code> クラスに実装された手段</td>
</tr>
</tbody>
</table>
<h3 id="_2"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_2">ファクトリパターン</a></h3>
<p><code>new</code> 式をファクトリメソッドに隠蔽することでオブジェクトの生成をコンストラクタから分離する</p>
<pre><code class="language-java">class Sample {
    // コンストラクタへのアクセスを制限
    private Sample() {}

    // ファクトリメソッド
    static Sample getInstance() {
        Sample sample = new Sample();
        return sample;
    }
}
</code></pre>
<ul>
<li>オブジェクトプーリング<ul>
<li>オブジェクトの生成にコストがかかる場合、キャッシュされた生成済みオブジェクトを使う</li>
</ul>
</li>
<li>シングルトンパターン<ul>
<li>オブジェクトの数を1つに制限する</li>
</ul>
</li>
</ul>
<h3 id="_3"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_3">クラス宣言</a></h3>
<p>新しいクラスを定義するには次のように予約語 <code>class</code> を使う</p>
<pre><code class="language-java">[修飾子] class クラス名 {
    メンバ宣言
      - フィールド宣言
      - メソッド宣言
      - ネストしたクラス宣言及びネストしたインターフェース宣言
    コンストラクタ宣言
    初期化ブロック
}
</code></pre>
<h4 id="_4"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_4">クラスの修飾子</a></h4>
<ul>
<li>クラス宣言時に指定できる修飾子は以下の5つ</li>
<li>複数同時指定可能（ただし <code>final</code> と <code>abstract</code> を同時に指定するとコンパイルエラー）</li>
</ul>
<table>
<thead>
<tr>
<th>modifier</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>グローバルにアクセス可（書かないとパッケージ内に限定）</td>
</tr>
<tr>
<td><code>final</code></td>
<td>継承禁止</td>
</tr>
<tr>
<td><code>abstract</code></td>
<td>抽象クラス</td>
</tr>
<tr>
<td><code>strictfp</code></td>
<td>クラス内に記述した浮動小数点演算を厳密に評価</td>
</tr>
<tr>
<td>アノテーション</td>
<td>省略</td>
</tr>
</tbody>
</table>
<h3 id="_5"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_5">フィールド</a></h3>
<h4 id="_6"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_6">フィールド宣言の修飾子</a></h4>
<table>
<thead>
<tr>
<th>modifier</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>private</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>final</code></td>
<td>フィールド変数への再代入禁止</td>
</tr>
<tr>
<td><code>static</code></td>
<td>クラスフィールド</td>
</tr>
<tr>
<td><code>transient</code></td>
<td>シリアライズの対象外</td>
</tr>
<tr>
<td><code>volatile</code></td>
<td>スレッド間で変数の値を同期</td>
</tr>
</tbody>
</table>
<ul>
<li><code>public</code> 、 <code>protected</code> 、 <code>private</code> は同時に指定不可</li>
<li><code>final</code> 、 <code>volatile</code> は同時に指定不可</li>
</ul>
<h4 id="_7"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_7">フィールド変数のスコープ</a></h4>
<ul>
<li>宣言の位置にかかわらず同一クラス内のすべてのコンストラクタとメソッドから使える</li>
<li>コンストラクタ内、メソッド内以外の場所では宣言した行以降がスコープとなる</li>
</ul>
<pre><code class="language-java">class Sample {
    // コンパイルエラー
    private final String s2 = s;

    // コンパイルエラー
    {
        System.out.println(s);
    }

    // フィールド宣言
    private final String s = &quot;sample&quot;;
}
</code></pre>
<h4 id="this"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#this">this参照</a></h4>
<ul>
<li><code>this</code> 参照は明示的な宣言なしに使える、該当クラスのオブジェクトを参照する参照型変数</li>
<li>クラス内での変数名はフィールド変数よりローカル変数、パラメータ変数が優先される</li>
<li>これらの場合にフィールド変数を使う場合は <code>this</code> 参照を明示する</li>
</ul>
<pre><code class="language-java">class Sample {
    private final String s = &quot;sample&quot;;

    void method (String s) {
        s; // パラメータ変数
        this.s; // フィールド変数
    }

    void method2 () {
        String s = &quot;test 2&quot;;
        s; // ローカル変数
        this.s; // フィールド変数
    }
}
</code></pre>
<h3 id="_8"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_8">メソッド</a></h3>
<h4 id="_9"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_9">メソッド宣言の修飾子</a></h4>
<table>
<thead>
<tr>
<th>modifier</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>private</code></td>
<td>アクセス制御</td>
</tr>
<tr>
<td><code>abstract</code></td>
<td>抽象メソッド</td>
</tr>
<tr>
<td><code>final</code></td>
<td>オーバーライド不可</td>
</tr>
<tr>
<td><code>static</code></td>
<td>クラスメソッド</td>
</tr>
<tr>
<td><code>synchronized</code></td>
<td>同期のためのロック獲得</td>
</tr>
<tr>
<td><code>native</code></td>
<td>ネイティヴメソッド</td>
</tr>
<tr>
<td><code>strictfp</code></td>
<td>浮動小数点演算を厳密に評価</td>
</tr>
</tbody>
</table>
<ul>
<li><code>public</code> 、 <code>protected</code> 、 <code>private</code> は同時に指定不可</li>
<li><code>abstract</code> は <code>static</code> 、 <code>final</code> 、 <code>synchronized</code> 、 <code>native</code> 、 <code>strictfp</code> と同時に指定不可</li>
</ul>
<h4 id="_10"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_10">同一クラス内でのメソッドのスコープ</a></h4>
<ul>
<li>クラス内でメソッド宣言より前で有効</li>
<li>クラス内で <code>this</code> 参照を使った呼び出しも可能</li>
</ul>
<h4 id="_11"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_11">他のクラスからのメソッド呼び出し</a></h4>
<ul>
<li>アクセス制御が許せば可能</li>
<li>オブジェクト参照に <code>.</code> メソッドアクセス修飾子を適用する</li>
</ul>
<h4 id="_12"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_12">引数</a></h4>
<ul>
<li>メソッド定義のパラメータ変数を <em>仮引数</em></li>
<li>メソッド呼び出し時に渡すパラメータを <em>実引数</em></li>
<li>メソッドが呼ばれると仮引数に実引数が代入される（call by value）</li>
</ul>
<h5 id="_13"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_13">可変長引数</a></h5>
<ul>
<li>メソッド宣言の引数定義でパラメータ変数の型に <code>...</code> を書く</li>
<li>任意の数の実引数で呼び出すことができる</li>
<li>このような引数を可変長引数という</li>
</ul>
<pre><code class="language-Java">class Sample {
    void exec (String... messages) {
        for (String s : messages) {
            System.out.println(s);
        }
    }
}

Sample sample = new Sample();
sample.exec();
sample.exec(&quot;hoge&quot;);
sample.exec(&quot;hoge&quot;, &quot;fuga&quot;, &quot;foo&quot;);
</code></pre>
<ul>
<li>内部的には配列として引数が渡る</li>
</ul>
<pre><code class="language-java">// 上記クラス定義と等価
class Sample {
    void exec (String[] messages) {
        for (String s : messages) {
            System.out.println(s);
        }
    }
}
</code></pre>
<h4 id="_14"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_14">返り値</a></h4>
<ul>
<li><code>return</code> 文を使う</li>
<li><code>return</code> はどこにいくつ書いても良い</li>
<li><code>return</code> の後に実行されるような文を書くとコンパイルエラー</li>
<li><code>void</code> メソッドに <code>return</code> を書くとコンパイルエラー</li>
<li><code>return</code> が返す値が返り値の型に代入できないとコンパイルエラー</li>
</ul>
<h4 id="_15"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_15">メソッド実行の終わり方</a></h4>
<ul>
<li><code>return</code> 文で抜ける</li>
<li><code>void</code> 型のメソッドを最後まで実行して抜ける</li>
<li>例外を投げて抜ける</li>
</ul>
<h4 id="_16"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_16">メソッドのオーバーロード</a></h4>
<ul>
<li>同じ引数の並びで同名のメソッドの宣言はコンパイルエラー</li>
<li>引数の型が変わると同名でもコンパイル可能</li>
<li>これをメソッドのオーバーロードと呼ぶ</li>
</ul>
<h4 id="_17"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_17">メソッドのシグネチャ</a></h4>
<ul>
<li>クラスの中でメソッドを一意に特定する情報をシグネチャと呼ぶ</li>
<li>メソッドのシグネチャは以下の2つ<ul>
<li>メソッド名</li>
<li>引数の型の並び</li>
</ul>
</li>
</ul>
<h4 id="_18"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_18">再帰呼び出し</a></h4>
<ul>
<li>メソッドが自分自身のメソッドを呼ぶこと</li>
<li>停止条件が必要</li>
</ul>
<h3 id="_19"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_19">コンストラクタ</a></h3>
<h4 id="_20"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_20">コンストラクタの宣言</a></h4>
<ul>
<li>オブジェクト生成時に呼ばれる</li>
<li>コンストラクタ名はクラス名と一致する</li>
<li>修飾子に書けるのは以下の3つ<ul>
<li><code>public</code></li>
<li><code>protected</code></li>
<li><code>private</code></li>
</ul>
</li>
<li>コンストラクタはクラス名と同名のメソッドに見えるが言語仕様上は別物</li>
<li>コンストラクタ内に <code>return</code> 文を書くとコンパイルエラー</li>
<li>オブジェクトの初期化処理はコンストラクタにまとめるべき</li>
</ul>
<h4 id="thissuper"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#thissuper">this呼び出しとsuper呼び出し</a></h4>
<ul>
<li><code>this</code> 呼び出しでコンストラクタの共通化ができる</li>
</ul>
<pre><code class="language-java">class Sample {
    // フィールド宣言を省略

    Sample (String name, String label) {
        this(name, label, 10); // 下のコンストラクタ呼び出し
    }
    Sample (String name, String label, int level) {
        this.name = name;
        this.label = label;
        this.level = level;
    }
}
</code></pre>
<ul>
<li>継承したクラスから継承元のコンストラクタを <code>super</code> で呼び出す</li>
</ul>
<pre><code class="language-java">class SubSample extends Sample {
    private final String type;

    SubSample (String name, String label, int level, String type) {
        super(name, label, level); // Sample クラスのコンストラクタ呼び出し
        this.type = type;
    }
}
</code></pre>
<h4 id="_21"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_21">デフォルトコンストラクタ</a></h4>
<ul>
<li>コンストラクタ宣言が書かれないクラスにはデフォルトコンストラクタが自動生成される</li>
<li>デフォルトコンストラクタの引数はなし、中身が空</li>
</ul>
<h4 id="_22"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_22">オブジェクト初期化の順序</a></h4>
<ol>
<li>フィールド変数にデフォルト値代入</li>
<li>フィールド変数宣言時の初期化、初期化ブロックを上から順に実行</li>
<li>コンストラクタ呼び出し</li>
</ol>
<h3 id="static"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#static">staticメンバ</a></h3>
<ul>
<li><code>static</code> 修飾子がついたフィールド変数やメソッド</li>
<li>クラスメンバという</li>
<li><code>static</code> がつかないフィールド変数、メソッドはインスタンスメンバ</li>
<li>クラスメンバは実体がクラスにしかなく、オブジェクトはコピーを持たない</li>
<li>インスタンスフィールドとクラスフィールドは同じ名前空間（同名はつけられない）</li>
</ul>
<h3 id="_23"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_23">継承</a></h3>
<ul>
<li>継承には実装の継承と振る舞いの継承の2つがある</li>
<li>振る舞いの継承は後出の「インターフェース」</li>
<li>実装の継承としての拡張継承は、あらかじめ意図して設計されたクラスからのみ行うべき</li>
</ul>
<h4 id="_24"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_24">拡張継承の構文</a></h4>
<ul>
<li>クラス宣言時に <code>extends</code> を使って継承する</li>
<li><code>extends</code> のないクラス宣言は暗黙に <code>java.lang.Object</code> を継承する</li>
<li>Java のすべてのクラスは必ず <code>java.lang.Object</code> を直接的または間接的に継承する</li>
</ul>
<pre><code class="language-java">[修飾子] class クラス名 extends 基底クラス名 {
    クラス本体
}
</code></pre>
<ul>
<li>継承したクラスで継承元と同名のフィールド変数を宣言すると継承元のフィールド変数を隠蔽する</li>
<li>継承元にあるメソッドと同じシグネチャのメソッドを定義するとメソッドをオーバーライドする</li>
<li>メソッドをオーバーライドする条件<ul>
<li>同じメソッド名</li>
<li>引数の数と型がすべて一致</li>
<li>返り値の型が一致、もしくは継承型</li>
<li><code>throws</code> 説の例外型が一致もしくは継承した例外型</li>
<li>アクセス制御が一致もしくはより緩い</li>
</ul>
</li>
</ul>
<h4 id="override"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#override">@Overrideアノテーション</a></h4>
<ul>
<li><code>@Override</code> というアノテーションをつけるとオーバーライドのミスに気づける</li>
</ul>
<pre><code class="language-java">Class Sample {
    void exec (CharSequence s) {
        System.out.println(&quot;sample:exec&quot;);
    }
}

Class SubSample extends Sample {
    @Override
    void exec (String s) {
        System.out.println(&quot;subSample:exec&quot;);
    }
}
</code></pre>
<h4 id="super"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#super">super参照</a></h4>
<ul>
<li>オーバーライドされた元メソッドに <code>private</code> 修飾子がついていなければオーバーライドしたメソッド内から <code>super</code> 参照を通じて元のメソッドを呼び出すことができる</li>
<li>隠蔽されたフィールド変数も同様</li>
</ul>
<h4 id="final"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#final">finalクラス</a></h4>
<ul>
<li><code>final</code> 修飾子がついたクラスを final クラスと呼ぶ</li>
<li>final クラスを継承元にして <code>extends</code> で拡張しようとするとコンパイルエラー</li>
</ul>
<h3 id="_25"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_25">抽象クラスと抽象メソッド</a></h3>
<ul>
<li>抽象クラスはインスタンス化できないクラス</li>
<li><code>abstract</code> 修飾子をつけてクラス宣言すると抽象クラスになる</li>
<li>抽象クラスは何らかの具象クラスの基底クラスとなる（雛形の役割を担う）</li>
<li>メソッド修飾子として <code>abstract</code> をつけると抽象メソッドとなる</li>
<li>抽象メソッドはメソッド本体をもたない（オーバーライド前提）</li>
<li>抽象メソッドを一つでももつとそのクラスは抽象クラス</li>
</ul>
<h3 id="_26"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_26">ネストしたクラス</a></h3>
<ul>
<li>あるクラスの下請けを担うクラスをヘルパークラスという</li>
<li>クラス内にクラスを宣言できる</li>
<li>ネストしたクラスをメンバクラスと呼ぶ</li>
<li>外側のクラスをエンクロージングクラスと呼ぶ</li>
</ul>
<h4 id="static_1"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#static_1">staticなネストしたクラス</a></h4>
<ul>
<li><code>static</code> 修飾子がついたネストしたクラス</li>
<li><code>private</code> 修飾子が指定されるとエンクロージングクラスの外から見えなくなる</li>
<li>エンクロージングクラスの <code>private</code> フィールドや <code>private</code> メソッドにアクセスできる</li>
<li>エンクロージングクラスもネストしたクラスの <code>private</code> フィールドや <code>private</code> メソッドにアクセスできる</li>
</ul>
<h4 id="_27"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_27">内部クラス</a></h4>
<ul>
<li>非 <code>static</code> なネストしたクラスを内部クラスと呼ぶ</li>
<li>内部クラスのオブジェクトはエンクロージングオブジェクトへの参照を暗黙的にもつ</li>
<li>エンクロージングクラスのクラスメソッド内では内部クラスのオブジェクト生成ができない</li>
</ul>
<h4 id="_28"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_28">ローカル内部クラス</a></h4>
<ul>
<li>ローカル内部クラスはメソッド内、コンストラクタ内、初期化ブロック内、 <code>if</code> 節などのブロック内で定義するクラス</li>
<li>ローカル内部クラスはブロックの外からはアクセスできない</li>
<li>クラスの実装をブロック内に隠蔽するときに使う</li>
</ul>
<h4 id="_29"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_29">匿名クラス</a></h4>
<ul>
<li>匿名クラスにはクラス名がない</li>
<li>オブジェクト生成は以下の構文で行う</li>
</ul>
<pre><code class="language-java">new 基底型(実引数) {
    メソッド宣言とフィールド宣言の差分実装
}
</code></pre>
<ul>
<li>匿名クラスにはクラス名がないため、基底型名を <code>new</code> 演算子に渡し、基底型との差分実装を書き足す</li>
<li>匿名クラスを使う利点<ul>
<li>コンストラクタが不要</li>
<li>オブジェクト作成が1つだけ</li>
</ul>
</li>
</ul>
<h3 id="_30"><a class="toclink" href="../../2016/07/20/study-of-perfect-java-chapter-5/#_30">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-18 00:00:00+00:00">2016年7月18日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約2分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-4"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/">パーフェクトJava読書メモ chapter 4 変数とオブジェクト</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_1">変数とオブジェクト</a></h3>
<ul>
<li>Javaの変数は以下の二つに分類される<ul>
<li>基本型変数</li>
<li>参照型変数</li>
</ul>
</li>
<li>オブジェクトはある体系にそってデータを表すモノであり、名前を持たない</li>
</ul>
<h3 id="_2"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_2">変数</a></h3>
<h4 id="_3"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_3">参照型変数</a></h4>
<ul>
<li>C言語のポインタ型変数の値がメモリ上のアドレス値そのものであるのに対し、Javaの参照型変数の値はオブジェクトの位置情報を指し示す抽象的な「何か」である</li>
<li>参照型変数は名前を持ち、オブジェクトを参照することで扱いやすく橋渡しする</li>
<li>参照型変数自体に型があり以下の3種類、これは参照しているオブジェクトの型とは別<ul>
<li>クラス型</li>
<li>配列型</li>
<li>インターフェース型</li>
</ul>
</li>
</ul>
<h4 id="_4"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_4">基本型変数</a></h4>
<ul>
<li>基本型変数は値をそのまま保持する</li>
<li>基本型の種類は以下の8つ<ul>
<li><code>boolean</code></li>
<li><code>byte</code></li>
<li><code>char</code></li>
<li><code>short</code></li>
<li><code>int</code></li>
<li><code>long</code></li>
<li><code>float</code></li>
<li><code>double</code></li>
</ul>
</li>
</ul>
<h4 id="_5"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_5">変数の宣言</a></h4>
<ul>
<li>変数を使うには最初に変数を宣言する</li>
<li>変数宣言は最初に変数の型を書き、続けて変数名を書く</li>
</ul>
<pre><code class="language-java">StringBuilder sb;
</code></pre>
<ul>
<li>基本型変数の宣言時も型名を変数名の前に書く</li>
</ul>
<pre><code class="language-java">int i;
</code></pre>
<ul>
<li>同じスコープで同名の変数は宣言できない</li>
</ul>
<pre><code class="language-java">void method(int i) {
    int i;
}
// コンパイルエラー
</code></pre>
<h4 id="_6"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_6">変数の初期化</a></h4>
<ul>
<li>変数は宣言時に初期化できる</li>
</ul>
<pre><code class="language-java">int i = 1;
</code></pre>
<ul>
<li>初期化しない場合の変数のデフォルト値は変数の型と種類に依存する</li>
</ul>
<h4 id="_7"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_7">変数の修飾子</a></h4>
<ul>
<li>変数の宣言時に修飾子を付けることができる</li>
<li>変数に使える修飾子は以下<ul>
<li><code>private</code></li>
<li><code>protected</code></li>
<li><code>public</code></li>
<li><code>transient</code></li>
<li><code>final</code></li>
<li><code>static</code></li>
<li><code>volatile</code></li>
</ul>
</li>
</ul>
<h3 id="_8"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_8">オブジェクト</a></h3>
<h4 id="_9"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_9">オブジェクトの生成</a></h4>
<ul>
<li><code>new</code> の後にクラス名を書き、 <code>()</code> で引数を指定する</li>
<li>引数の定義はクラスごとに決まっている</li>
</ul>
<pre><code class="language-java">new StringBuilder(&quot;012&quot;);
</code></pre>
<h4 id="_10"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_10">参照型変数への代入</a></h4>
<ul>
<li>生成したオブジェクトは参照型変数へ参照を渡して扱う</li>
</ul>
<pre><code class="language-java">StringBuilder sb = new StringBuilder();
</code></pre>
<ul>
<li>あくまで変数が扱っているのはオブジェクトへの参照なので、以下の例では2つの変数は同じオブジェクトへの参照を持つ</li>
</ul>
<pre><code class="language-java">StringBuilder sb = new StringBuilder();
StringBuilder sb2 = sb;
sb.append(&quot;012&quot;);
sb2.append(&quot;345&quot;);
// sb: &quot;0123445&quot;
// sb2: &quot;012345&quot;
</code></pre>
<h4 id="_11"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_11">基本型変数への代入</a></h4>
<ul>
<li>基本型変数へ代入されるのはオブジェクトの参照ではなく値そのもの</li>
<li>値そのものをコピーして代入する</li>
</ul>
<pre><code class="language-java">int i = 42;
int j = i + 1;
int K = i;
// i: 42
// j: 43
// k: 42
</code></pre>
<h4 id="null"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#null">null参照</a></h4>
<ul>
<li><code>null</code> は「何も参照していない」ということを表す</li>
</ul>
<pre><code class="language-java">StringBuilder sb = null;
</code></pre>
<h5 id="null_1"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#null_1">nullチェック</a></h5>
<ul>
<li>参照先がなく、 <code>null</code> を持つ参照型変数にたいする演算は <code>NullPointerException</code></li>
<li><code>Object</code> クラスに <code>null</code> をチェックするためのメソッドがある</li>
</ul>
<table>
<thead>
<tr>
<th>method</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>equals</code></td>
<td>引数のどちらかが <code>null</code> でも使える比較</td>
</tr>
<tr>
<td><code>toString</code></td>
<td><code>null</code> の場合の文字列を指定可能</td>
</tr>
<tr>
<td><code>isNull</code></td>
<td>引数が <code>null</code> のとき真</td>
</tr>
<tr>
<td><code>notNull</code></td>
<td>引数が <code>null</code> でないとき真</td>
</tr>
<tr>
<td><code>requireNonNull</code></td>
<td>引数が <code>null</code> だと即座に <code>NullPointerException</code></td>
</tr>
</tbody>
</table>
<h4 id="optional"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#optional">Optional型</a></h4>
<ul>
<li><code>Optional</code> 型は任意のオブジェクトをくるんで <code>null</code> かもしれない状態を表現する</li>
<li>基本型変数のための <code>Optional</code> 型として以下の 3 つがある<ul>
<li><code>OptionalInt</code></li>
<li><code>OptionalLong</code></li>
<li><code>OptionalDouble</code></li>
</ul>
</li>
<li><code>Optional</code> オブジェクトは <code>of</code> または <code>ofNullable</code> メソッドを使って任意のオブジェクトから生成できる</li>
</ul>
<pre><code class="language-java">StringBuilder sb;
Optional&lt;StringBuilder&gt; osb = Optional.of(sb);
// or
// Oprional&lt;StringBuilder&gt; osb = Optional.ofNullable(sb);
</code></pre>
<ul>
<li><code>get</code> メソッドで <code>Optional</code> オブジェクトでくるんだオブジェクトを取得</li>
</ul>
<pre><code class="language-java">Optional&lt;StringBuilder&gt; osb;
StringBuilder sb = osb.get();
</code></pre>
<ul>
<li>くるんだオブジェクトが <code>null</code> でなければそのまま呼び出し、 <code>null</code> であれば引数のオブジェクトを返す例</li>
</ul>
<pre><code class="language-java">StringBuilder sb = osb.orElse(new StringBuilder(&quot;none&quot;));
</code></pre>
<h4 id="_12"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_12">変数を介さないオブジェクトの操作</a></h4>
<ul>
<li>変数に参照を格納しなくてもオブジェクトを操作できる</li>
</ul>
<pre><code class="language-java">int len = new StringBuilder(&quot;012&quot;).length();
</code></pre>
<ul>
<li>文字列リテラルでも</li>
</ul>
<pre><code class="language-java">int len = &quot;abc&quot;.length();
</code></pre>
<ul>
<li>ドット演算子でメソッド呼び出しをつなげることをメソッドチェインという</li>
</ul>
<pre><code class="language-java">StringBuilder sb = new StringBuilder();
int len = sb.append(&quot;012&quot;).append(&quot;345&quot;).length();
// len: 6
</code></pre>
<h3 id="_13"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_13">変数と型</a></h3>
<ul>
<li>オブジェクトの型はクラスで定義されている</li>
<li>変数の型とオブジェクトの型が一致もしくはオブジェクトの型が変数の型の下位型であるとき変数にオブジェクトの参照を代入可能</li>
<li>変数が参照するオブジェクトに対して行える操作は変数の型できまる</li>
<li>下位型のオブジェクトは上位型の持つメソッドを持つことが保証されている<ul>
<li>ただし実態が同一とは限らない</li>
</ul>
</li>
</ul>
<h3 id="_14"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_14">変数の詳細</a></h3>
<h4 id="_15"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_15">変数の種類</a></h4>
<table>
<thead>
<tr>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ローカル変数</td>
<td>メソッドもしくはコンストラクタ内で宣言される。メソッドやコンストラクタが終わると消滅。</td>
</tr>
<tr>
<td>パラメータ変数</td>
<td>メソッドもしくはコンストラクタに引数として渡る。メソッドやコンストラクタが終わると消滅。</td>
</tr>
<tr>
<td>インスタンスフィールド変数</td>
<td>クラスの構成要素</td>
</tr>
<tr>
<td>クラスフィールド変数</td>
<td>クラスの構成要素</td>
</tr>
</tbody>
</table>
<h4 id="_16"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_16">変数のデフォルト値</a></h4>
<table>
<thead>
<tr>
<th>type</th>
<th>default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>参照型</td>
<td><code>null</code></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>char</code></td>
<td>"¥u0000"</td>
</tr>
<tr>
<td><code>byte</code>, <code>short</code>, <code>int</code>, <code>Long</code></td>
<td>0</td>
</tr>
<tr>
<td><code>float</code>, <code>double</code></td>
<td>+0.0</td>
</tr>
</tbody>
</table>
<h4 id="_17"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_17">変数のスコープ</a></h4>
<h5 id="_18"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_18">ローカル変数</a></h5>
<ul>
<li>変数を宣言した行からメソッドもしくはコンストラクタが終わるまで</li>
</ul>
<h5 id="_19"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_19">ブロックスコープ</a></h5>
<ul>
<li><code>{}</code> で囲ったブロックに閉じたスコープ</li>
<li>変数を宣言した行からブロックが終わるまで</li>
</ul>
<h5 id="_20"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_20">シャドーイング</a></h5>
<ul>
<li>同一のスコープ内で同じ変数を2度以上宣言</li>
</ul>
<h5 id="_21"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_21">パラメータ変数のスコープ</a></h5>
<ul>
<li>メソッド及びコンストラクタの中</li>
</ul>
<h5 id="_22"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_22">フィールド変数のスコープ</a></h5>
<ul>
<li>フィールド変数のスコープはクラス内</li>
<li>宣言した行の位置は無関係</li>
</ul>
<h3 id="_23"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_23">オブジェクトの寿命</a></h3>
<p>オブジェクトへの参照が外れる条件
* ローカル変数及びパラメータ変数のスコープが外れたとき
* オブジェクトが消滅したとき
* クラスが消滅し、クラスフィールド変数の参照が外れたとき
* 変数に別のオブジェクトの参照もしくは <code>null</code> が再代入されたとき
* 変数を介さない操作がされていた場合、式の評価が終わったとき</p>
<h3 id="final"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#final">final変数と不変オブジェクト</a></h3>
<ul>
<li><code>final</code> 修飾子を指定した変数を final 変数と呼ぶ</li>
<li>final 変数は再代入不可</li>
<li><code>final</code> 修飾子が禁止するのは変数自体の値の変更であって、変数が参照するオブジェクト自体の変更ではない</li>
</ul>
<h3 id="_24"><a class="toclink" href="../../2016/07/18/study-of-perfect-java-chapter-4/#_24">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-17 00:00:00+00:00">2016年7月17日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-3-1"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/">パーフェクトJava読書メモ chapter 3 数値①</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_1">整数型</a></h3>
<p>以下の5種類</p>
<table>
<thead>
<tr>
<th>name</th>
<th>bit length</th>
<th>min</th>
<th>max</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>byte</code></td>
<td>8</td>
<td>-128</td>
<td>127</td>
</tr>
<tr>
<td><code>char</code></td>
<td>16</td>
<td>0</td>
<td>65535</td>
</tr>
<tr>
<td><code>short</code></td>
<td>16</td>
<td>-32768</td>
<td>32767</td>
</tr>
<tr>
<td><code>int</code></td>
<td>32</td>
<td>-2147483648</td>
<td>2147483647</td>
</tr>
<tr>
<td><code>long</code></td>
<td>64</td>
<td>-9223372036854775808</td>
<td>9223372036854775807</td>
</tr>
</tbody>
</table>
<h4 id="bit"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#bit">bit値</a></h4>
<p>符号あり整数で最上位ビットが1の値は負の値となる</p>
<h5 id="4bit"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#4bit">4bit長の符号なし整数</a></h5>
<table>
<thead>
<tr>
<th>type</th>
<th>value</th>
<th>bit</th>
</tr>
</thead>
<tbody>
<tr>
<td>min</td>
<td>0</td>
<td>0000</td>
</tr>
<tr>
<td>max</td>
<td>15</td>
<td>1111</td>
</tr>
</tbody>
</table>
<h5 id="4bit_1"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#4bit_1">4bit長の符号あり整数</a></h5>
<table>
<thead>
<tr>
<th>type</th>
<th>value</th>
<th>bit</th>
</tr>
</thead>
<tbody>
<tr>
<td>min bit</td>
<td>0</td>
<td>0000</td>
</tr>
<tr>
<td>max value</td>
<td>7</td>
<td>0111</td>
</tr>
<tr>
<td>min value</td>
<td>-8</td>
<td>1000</td>
</tr>
<tr>
<td>max bit</td>
<td>-1</td>
<td>1111</td>
</tr>
</tbody>
</table>
<h3 id="_2"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_2">桁あふれ</a></h3>
<p>整数の加算はbit値を進める処理であり、</p>
<p>整数の減算はbit値を戻す処理である</p>
<p>したがってbitの境界値をまたいで整数の加算減算を行うと予期しない結果となる場合がある</p>
<pre><code class="language-java">int i = Interger.MAX_VALUE;
// i: 2147483647

i++
// i: -2147483648
</code></pre>
<h3 id="_3"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_3">整数リテラル</a></h3>
<ul>
<li><code>L</code> または <code>l</code> で終わる整数リテラルの型は <code>long</code> 型</li>
<li>それ以外の整数リテラルは <code>int</code> 型</li>
<li><code>int</code> 型リテラル値を <code>byte</code> 、 <code>char</code> 、 <code>short</code> の型の変数に代入する場合、値が代入する先の型の範囲内であれば自動的に型が変換されて代入される<ul>
<li>代入する先の型の範囲を超えている場合はコンパイルエラーとなる</li>
</ul>
</li>
</ul>
<h4 id="_4"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_4">基数</a></h4>
<ul>
<li><code>0b</code> から始めると 2 進数</li>
<li><code>0</code> から始めると 8 進数</li>
<li><code>0x</code> から始めると 16 進数</li>
</ul>
<h3 id="_5"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_5">整数の演算</a></h3>
<h4 id="_6"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_6">四則演算</a></h4>
<table>
<thead>
<tr>
<th>演算子</th>
<th>演算</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>和</td>
</tr>
<tr>
<td>-</td>
<td>差</td>
</tr>
<tr>
<td>*</td>
<td>積</td>
</tr>
<tr>
<td>/</td>
<td>商</td>
</tr>
</tbody>
</table>
<h5 id="_7"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_7">注意点</a></h5>
<ul>
<li>大きな正の整数の和における桁あふれ</li>
<li>小さな負の整数の差における桁あふれ</li>
<li>絶対値の大きな整数同士の積の桁あふれ</li>
<li>商の結果は切り捨て</li>
<li>0 による割り算は <code>ArithmeticException</code></li>
</ul>
<h4 id="_8"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_8">剰余</a></h4>
<ul>
<li>剰余演算子は <code>%</code></li>
<li>0 による剰余演算は <code>ArithmeticException</code></li>
</ul>
<h4 id="_9"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_9">符号反転</a></h4>
<p>単項演算子 <code>-</code> は通常単純に符号を反転させる</p>
<pre><code class="language-java">int n = 10;
// -n: -10
</code></pre>
<p>しかしここにも桁あふれの問題があるので注意</p>
<pre><code class="language-java">int n = -2147483648;
// -n: -2147483648
</code></pre>
<p><a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.15.4">仕様書</a>によると</p>
<blockquote>
<p>-x equals (~x)+1</p>
</blockquote>
<ul>
<li><code>~</code> は bit 反転演算子</li>
<li>-2147483648 は bit に変換すると 100...0（0 が 31 個つづく）</li>
<li>これを反転させると 011...1（1 が 31 個つづく）となり、これは 2147483647 を表す</li>
<li>2147483647 + 1 は桁あふれが起こり、 -2147483648 となる</li>
</ul>
<h4 id="_10"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_10">インクリメント・デクリメント</a></h4>
<ul>
<li><code>++</code> でインクリメント</li>
<li><code>--</code> でデクリメント</li>
</ul>
<h3 id="_11"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_11">キャスト</a></h3>
<p><code>()</code> 付きで型を書くことで強制的に型変換する</p>
<pre><code class="language-java">int i = 1;
short si = (short)i;
</code></pre>
<h4 id="bit_1"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#bit_1">代入先の型に収まらないとあふれたbitが切り捨てられる</a></h4>
<pre><code class="language-java">short si = (short)65536;
// si: 0
</code></pre>
<ul>
<li>65536 は bit に変換すると 100...0 （0 が 16 個つづく）</li>
<li><code>short</code> 型は 16 bit なので先頭の 1 があふれる</li>
</ul>
<h3 id="_12"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_12">ブーリアン（真偽値）</a></h3>
<p>ブーリアン型が取りうる値は <code>true</code> か <code>false</code> のみ</p>
<p>※ ド・モルガンの法則の説明等</p>
<h3 id="_13"><a class="toclink" href="../../2016/07/17/study-of-perfect-java-chapter-3/#_13">参照</a></h3>
<ul>
<li><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></li>
<li><a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.15.4">15.15.4. Unary Minus Operator -</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2016-07-12 00:00:00+00:00">2016年7月12日</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Java</a></li>
        
        
          
          <li class="md-meta__item">
            
              このページは約1分で読めます
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="java-chapter-2"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/">パーフェクトJava読書メモ chapter 2 文字と文字列</a></h2>
<p>Javaを使うために<a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a>を読んだメモ</p>
<h3 id="_1"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_1">文字列</a></h3>
<p>"（ダブルクォート）で囲んで文字数リテラル</p>
<h4 id="string"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#string">String クラス</a></h4>
<ul>
<li>文字列リテラルから <code>String</code> オブジェクトが自動生成</li>
<li>配列のように1文字ごとにindexが振られる</li>
</ul>
<h4 id="stringbuilder"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#stringbuilder">StringBuilder クラス</a></h4>
<ul>
<li>オブジェクトに対して破壊的</li>
<li><code>String</code> オブジェクトは read only</li>
</ul>
<h4 id="_2"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_2">文字列の結合</a></h4>
<ul>
<li><code>+=</code> と <code>StringBuilder</code> の関係</li>
<li><code>join</code> メソッド</li>
</ul>
<h4 id="_3"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_3">文字列の比較</a></h4>
<ul>
<li><code>==</code> 演算子じゃなくて <code>equals</code> メソッド<ul>
<li><code>==</code> 比較は同一のオブジェクトへの参照かどうかの比較</li>
</ul>
</li>
<li>同じ文字列リテラルは同じ <code>String</code> オブジェクト</li>
<li>ただし <code>String</code> と <code>StringBuilder</code> では文字列の内容が同じでも違うオブジェクト<ul>
<li>そんなときは <code>contentEquals</code> メソッド</li>
</ul>
</li>
<li><code>StringBuilder</code> 同士の文字列の内容比較もできないので、 <code>toString</code> で <code>String</code> に変換してから <code>contentEquals</code> 使うこと</li>
</ul>
<h4 id="_4"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_4">文字列と数値の変換</a></h4>
<h5 id="_5"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_5">数値から文字列への変換</a></h5>
<p><code>valueOf</code> メソッド</p>
<pre><code class="language-java">String s = String.valueOf(255);
// s: &quot;255&quot;
</code></pre>
<p><code>toString</code> メソッドで10進数以外に直接変換する</p>
<pre><code class="language-java">String s = Integer.toString(255, 16);
// s: &quot;ff&quot;
</code></pre>
<h4 id="_6"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_6">文字列から数値への変換</a></h4>
<p><code>parseInt</code> メソッド</p>
<pre><code class="language-java">int i = Integer.parseInt(&quot;255&quot;);
// i: 255
</code></pre>
<p>基数を与えて10進数以外の処理</p>
<pre><code class="language-java">int i = Integer.parseint(&quot;ff&quot;, 16);
// i: 255
</code></pre>
<h3 id="_7"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_7">文字</a></h3>
<ul>
<li>'（シングルクォート）で囲んで文字リテラル</li>
<li>Javaの世界ではUTF-16<ul>
<li>文字を16bitの数値で表す <code>char</code> 型</li>
</ul>
</li>
<li>文字リテラルは <code>char</code> 型の数値</li>
<li><code>String</code> オブジェクトは文字（ <code>char</code> 型）の配列</li>
</ul>
<h3 id="_8"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_8">バイト</a></h3>
<ul>
<li>歴史的に文字とバイトは同一視されがち</li>
<li>Javaではバイトを文字と区別する</li>
<li>8bit長の <code>byte</code> 型</li>
<li>バイト列は <code>byte</code> 型の配列</li>
</ul>
<h4 id="_9"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_9">バイト列と文字列の変換</a></h4>
<h5 id="_10"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_10">バイト列から文字列への変換</a></h5>
<p><code>byte</code> の配列を渡して <code>String</code> オブジェクトを生成</p>
<pre><code class="language-java">byte[] bytes = new byte[]{0x61, 0x62, 0x63};
String s = new String(bytes);
// s: abc
</code></pre>
<h5 id="_11"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_11">文字列からバイト列への変換</a></h5>
<p><code>getBytes</code> メソッドを使う</p>
<pre><code class="language-java">String s = &quot;abc&quot;;
byte[] bytes = s.getBytes();
</code></pre>
<h3 id="_12"><a class="toclink" href="../../2016/07/12/study-of-perfect-java-chapter-2/#_12">参照</a></h3>
<p><a href="http://www.amazon.co.jp/gp/product/4774166855/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4774166855&amp;linkCode=as2&amp;tag=sojiro14-22">改訂2版 パーフェクトJava</a></p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <span class="md-pagination__current">1</span> <a class="md-pagination__link" href="page/2/">2</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2014 - 2025 Sojiro's Blog. All rights reserved.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/sojiro14" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/sojiro14" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>